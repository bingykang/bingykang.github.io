var __builtin_policy_sdk__;!function(){var t,e,n={1937:function(t,e,n){"use strict";e.X_=void 0;var r=n(9853);Object.defineProperty(e,"X_",{enumerable:!0,get:function(){return r.waitFor}})},9853:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.waitFor=e.PollUntil=void 0;const r="Your executor is not a function. functions and promises are valid.",o="Failed to wait";class i{constructor({interval:t=100,timeout:e=1e3,stopOnFailure:n=!1,verbose:r=!1,backoffFactor:o=1,backoffMaxInterval:i,message:a=""}={}){this._interval=t,this._timeout=e,this._stopOnFailure=n,this._isWaiting=!1,this._isResolved=!1,this._verbose=r,this._userMessage=a,this.originalStacktraceError=new Error,this._Console=console,this._backoffFactor=o,this._backoffMaxInterval=i||e,this.start=+Date.now()}tryEvery(t){return this._interval=t,this}stopAfter(t){return this._timeout=t,this}execute(t){return this._applyPromiseHandlers(),function(t){if("function"!=typeof t)throw new Error(r)}(t),this._executeFn=function(t){return()=>n(this,void 0,void 0,(function*(){return yield t()}))}(t),this.start=Date.now(),this._isWaiting=!0,this._log("starting to execute"),this._runFunction(),this.promise}getPromise(){return this.promise}isResolved(){return this._isResolved}isWaiting(){return this._isWaiting}stopOnFailure(t){return this._stopOnFailure=t,this}_applyPromiseHandlers(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}_timeFromStart(){return Date.now()-this.start}_shouldStopTrying(){return this._timeFromStart()>this._timeout}_executeAgain(){this._log("executing again");const t=this._interval,e=t*this._backoffFactor;this._interval=e>this._backoffMaxInterval?this._backoffMaxInterval:e,setTimeout(this._runFunction.bind(this),t)}_failedToWait(){let t=`${o} after ${this._timeFromStart()}ms`;if(this._userMessage&&(t=`${t}: ${this._userMessage}`),this._lastError){this._lastError.message=`${t}\n${this._lastError.message}`;const e=this.originalStacktraceError.stack;e&&(this._lastError.stack+=e.substring(e.indexOf("\n")+1))}else this._lastError=this.originalStacktraceError,this._lastError.message=t;return this._log(this._lastError),this._lastError}_runFunction(){var t;if(this._shouldStopTrying())return this._isWaiting=!1,void(null===(t=this.reject)||void 0===t||t.call(this,this._failedToWait()));this._executeFn().then((t=>{var e;if(!1===t)return this._log(`then execute again with result: ${t}`),void this._executeAgain();null===(e=this.resolve)||void 0===e||e.call(this,t),this._isWaiting=!1,this._isResolved=!0,this._log(`then done waiting with result: ${t}`)})).catch((t=>{var e;return this._stopOnFailure?(this._log(`stopped on failure with err: ${t}`),null===(e=this.reject)||void 0===e?void 0:e.call(this,t)):(this._lastError=t,this._log(`catch with err: ${t}`),this._executeAgain())}))}_log(t){this._verbose&&this._Console&&this._Console.log&&this._Console.log(t)}}e.PollUntil=i;e.waitFor=(t,e)=>new i(e).execute(t)},2850:function(t,e){var n,r,o;r=[],void 0===(o="function"==typeof(n=function(){var t=function t(e){function n(t,e){return t>>>e|t<<32-e}for(var r,o,i=Math.pow,a=i(2,32),c="length",u="",s=[],l=8*e[c],f=t.h=t.h||[],p=t.k=t.k||[],h=p[c],d={},y=2;h<64;y++)if(!d[y]){for(r=0;r<313;r+=y)d[r]=y;f[h]=i(y,.5)*a|0,p[h++]=i(y,1/3)*a|0}for(e+="Â€";e[c]%64-56;)e+="\0";for(r=0;r<e[c];r++){if((o=e.charCodeAt(r))>>8)return;s[r>>2]|=o<<(3-r)%4*8}for(s[s[c]]=l/a|0,s[s[c]]=l,o=0;o<s[c];){var v=s.slice(o,o+=16),b=f;for(f=f.slice(0,8),r=0;r<64;r++){var g=v[r-15],w=v[r-2],m=f[0],_=f[4],E=f[7]+(n(_,6)^n(_,11)^n(_,25))+(_&f[5]^~_&f[6])+p[r]+(v[r]=r<16?v[r]:v[r-16]+(n(g,7)^n(g,18)^g>>>3)+v[r-7]+(n(w,17)^n(w,19)^w>>>10)|0);(f=[E+((n(m,2)^n(m,13)^n(m,22))+(m&f[1]^m&f[2]^f[1]&f[2]))|0].concat(f))[4]=f[4]+E|0}for(r=0;r<8;r++)f[r]=f[r]+b[r]|0}for(r=0;r<8;r++)for(o=3;o+1;o--){var O=f[r]>>8*o&255;u+=(O<16?0:"")+O.toString(16)}return u};return t.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',t})?n.apply(e,r):n)||(t.exports=o)},3632:function(t,e,n){"use strict";n.d(e,{y3:function(){return b},Ih:function(){return v},Bo:function(){return y},Ox:function(){return h},a0:function(){return g},u3:function(){return d},Rv:function(){return p}});var r=n(1937),o=n(5630),i=n(1234),a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)},c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},s=o.sI.retryInterval,l=o.sI.timeout;var f={request:function(t,e,n){var o=this,f=t.url,p=t.method,h=t.data;return(0,r.X_)((function(){return c(o,void 0,void 0,(function(){var t,n,r;return u(this,(function(o){switch(o.label){case 0:return t=(null==e?void 0:e.headers)||{},[4,fetch(f,{method:p,body:JSON.stringify(h),credentials:"include",headers:t})];case 1:return 200!==(n=o.sent()).status?[3,3]:[4,n.json()];case 2:return(r=o.sent()).data||function(t){(0,i.M2)(a({error:"request success, but no data available in response",type:"Error",funcName:"uploadErrorOfNoData"},t))}({url:f,response:r,args:h,headers:t}),[2,{success:!0,data:r.data}];case 3:return function(t){var e=t.status,n=t.statusText,r=t.args,o=t.url,a=t.headers;(0,i.M2)({error:"request server error",status:e,statusText:n,url:o,headers:a,type:"Error",funcName:"uploadErrorWithStatusCode",args:r})}({args:h,status:n.status,statusText:n.statusText,url:f,headers:t}),[2,{success:!1}]}}))}))}),{interval:(null==n?void 0:n.retryInterval)||s,timeout:(null==n?void 0:n.timeout)||l}).catch((function(t){return console.error(t),(0,i.M2)({error:null==t?void 0:t.message,args:h,url:f,isOnline:navigator.onLine}),{success:!1,error:t}}))},baseURL:""};function p(t){f._initialized||(f.request=(null==t?void 0:t.request)||f.request,f.baseURL=(null==t?void 0:t.baseURL)||"",f._initialized=!0)}function h(t,e){var n=f.genBaseURL("/lark/scs/guardian/policy_engine/runtime_config/query"),r=t||{},o={version:r.version,terminalType:r.terminalType},i={"x-lgw-terminal-type":r["x-lgw-terminal-type"]};return f.request({url:n,method:"POST",data:o,headers:i},e)}function d(t,e){var n=f.genBaseURL("/lark/scs/guardian/policy_engine/policy_log/report"),r={policyLog:(t||{}).policyLog};return f.request({url:n,method:"POST",data:r},e)}function y(t,e){var n=f.genBaseURL("/lark/scs/guardian/policy_engine/pointcut/query");return f.request({url:n,method:"POST"},e)}function v(t,e){var n=f.genBaseURL("/lark/scs/guardian/enforce"),r={params:(t||{}).params};return f.request({url:n,method:"POST",data:r},e)}function b(t,e){var n=f.genBaseURL("/lark/scs/guardian/pointcut/control_check"),r={params:(t||{}).params};return f.request({url:n,method:"POST",data:r},e)}function g(t,e){var n=f.genBaseURL("/lark/scs/guardian/policy_engine/policy_type_tenants/query");return f.request({url:n,method:"POST"},e)}f.genBaseURL=function(t){return"function"==typeof f.baseURL?f.baseURL(t):f.baseURL+t}},5402:function(t,e,n){"use strict";var r;n.d(e,{Ab:function(){return l},MA:function(){return r},Nt:function(){return c},Y3:function(){return f},hf:function(){return o},hj:function(){return s},hx:function(){return a},oz:function(){return i},u7:function(){return u}}),function(t){t.ccmExport="PointKey_CCM_EXPORT",t.ccmFileDownload="PointKey_CCM_FILE_DOWNLOAD",t.ccmFileUpload="PointKey_CCM_FILE_UPLOAD",t.ccmAttachmentDownload="PointKey_CCM_ATTACHMENT_DOWNLOAD",t.ccmPrint="PointKey_CCM_PRINT",t.ccmCopy="PointKey_CCM_CONTENT_COPY",t.ccmDuplicate="PointKey_CCM_CREATE_COPY",t.ccmPreview="PointKey_CCM_CONTENT_PREVIEW",t.ccmFilePreview="PointKey_CCM_FILE_PREVIEW",t.ccmDelete="PointKey_CCM_MOVE_RECYCLE_BIN",t.ccmOpenExternalAccess="PointKey_CCM_OPEN_EXTERNAL_ACCESS",t.imDownload="PointKey_IM_MSG_FILE_DOWNLOAD",t.imUpload="PointKey_IM_MSG_FILE_UPLOAD",t.imCopy="PointKey_IM_MSG_FILE_COPY",t.imPreview="PointKey_IM_MSG_FILE_PREVIEW",t.imShare="PointKey_IM_MSG_FILE_READ"}(r||(r={}));var o=new Set([r.imShare,r.imDownload]),i=[r.imDownload],a=[r.imDownload],c=[r.imDownload],u=3,s="security_login_restriction_ping_time_storage",l=5e3,f=9e5},1690:function(t,e,n){"use strict";var r,o,i,a,c;n.d(e,{OW:function(){return i},Su:function(){return a},pW:function(){return o},py:function(){return r}}),function(t){t.Doc="DOC",t.Docx="DOCX",t.Sheet="SHEET",t.Bitable="BITABLE",t.Mindnote="MINDNOTE",t.File="FILE",t.DASHBOARD="DASHBOARD",t.BITABLESHAREFORM="BITABLE_SHARE_FORM",t.CHART="CHART",t.SPACE_CATALOG="SPACE_CATALOG",t.WIKI_SPACE="WIKI_SPACE",t.PIVOTTABLE="PIVOT_TABLE",t.RECORD="RECORD",t.SYNC="SYNC",t.ImMsgFile="IM_MSG_FILE"}(r||(r={})),function(t){t.UNKNOWN="",t.CCM="CCM",t.IM="IM",t.CALENDAR="CALENDAR"}(o||(o={})),function(t){t.CCMCopy="CCM_CONTENT_COPY",t.CCMPrint="CCM_PRINT",t.CCMExport="CCM_EXPORT",t.CCMAttachmentDownload="CCM_ATTACHMENT_DOWNLOAD",t.CCMContentPreview="CCM_CONTENT_PREVIEW",t.CCMCreateCopy="CCM_CREATE_COPY",t.CCMPFileUpload="CCM_FILE_UPLOAD",t.CCMPFilePreView="CCM_FILE_PREVIEW",t.CCMPFileDownload="CCM_FILE_DOWNLOAD",t.CCMPMoveRecycleBin="CCM_MOVE_RECYCLE_BIN",t.CCMOpenExternalAccess="CCM_OPEN_EXTERNAL_ACCESS",t.IMFileDownload="IM_MSG_FILE_DOWNLOAD",t.IMFileUpload="IM_MSG_FILE_UPLOAD",t.IMFilePreview="IM_MSG_FILE_PREVIEW",t.IMFileRead="IM_MSG_FILE_READ",t.IMFileCopy="IM_MSG_FILE_COPY"}(i||(i={})),function(t){t.UNKNOWN="Unknown",t.CCM="CCM",t.IM="IM",t.CALENDAR="Calendar"}(a||(a={})),function(t){t[t.P2P=1]="P2P",t[t.GROUP=2]="GROUP",t[t.TOPIC_GROUP=3]="TOPIC_GROUP"}(c||(c={}))},8818:function(t,e,n){"use strict";n.d(e,{EE:function(){return i}});var r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},o=function(t){return"object"!=typeof t?t:Array.isArray(t)?t.map((function(t){return o(t)})):Object.keys(t).sort().reduce((function(e,n){return e[n]="object"==typeof t[n]?o(t[n]):t[n],e}),{})},i=function(t){t.taskId;return function(t){var e=o(t);return JSON.stringify(e)}(r(t,["taskId"]))}},2547:function(t,e,n){"use strict";n.d(e,{g:function(){return i}});var r=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},i=new(function(){function t(t){this.cacheKey=t}return t.prototype.getCache=function(t){var e=localStorage.getItem("".concat(this.cacheKey,"-").concat(t));if(e)try{return JSON.parse(e)}catch(t){return null}return null},t.prototype.setCache=function(t,e){return localStorage.setItem("".concat(this.cacheKey,"-").concat(t),JSON.stringify(e)),e},t.prototype.getCacheAsync=function(t){var e=t.query,n=t.partition;return r(this,void 0,Promise,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return(t=this.getCache(n))?(this.updateCacheAsync({query:e,partition:n}),[2,t]):this.queryPromise?[2,this.queryPromise]:(this.queryPromise=e(),[4,this.queryPromise]);case 1:return r=o.sent(),this.queryPromise=null,this.setCache(n,r),[2,r]}}))}))},t.prototype.updateCacheAsync=function(t){var e=t.query,n=t.partition;return r(this,void 0,Promise,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return this.updatePromise?[2,this.updatePromise]:(this.updatePromise=e(),[4,this.updatePromise]);case 1:return t=r.sent(),this.setCache(n,t),[2,t]}}))}))},t}())("policy-sdk-config")},5713:function(t,e,n){"use strict";n.d(e,{_:function(){return u},f:function(){return f}});var r=n(1234),o=function(t){return Boolean(t)&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then},i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},u={PolicyWorker:"PolicyWorker",PAP:"PAP",Network:"Network"},s=function(t,e,n,r){return{target:t,args:e,startTime:n,funcName:r,type:"info",err:null,res:null}},l=function(t,e,n,r){return{target:t,args:e,startTime:n,funcName:r,res:null,type:"error"}};function f(t){var e=t.onLog,n=t.onCatch,u=t.onReturn,f=t.beforeEnterAsync;return function(t,p,h){var d=h.value;h.value=function(){for(var t=this,h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var v=(new Date).getTime();e&&e(i(i({},s(this,h,v,p)),{message:"s ".concat(p)}));var b=function(n){if(e&&e(i(i({},s(t,[],v,p)),{res:n,message:"f ".concat(p)})),u)return u.apply(void 0,c([t,n],a(h),!1))},g=function(o){var u={error:null==o?void 0:o.message,stack:null==o?void 0:o.stack,cause:null==o?void 0:o.cause,type:"Error",funcName:p,args:h,isOnline:navigator.onLine};if((0,r.DO)(u),e&&e(i(i({},l(t,h,v,p)),{err:o.message,message:"exec ".concat(p," error")})),n)return n.apply(void 0,c([t,o],a(h),!1));throw Error(o)},w=function(){try{var e=d.apply(t,c([],a(h),!1));return o(e)?e.then((function(t){return b(t)||e})).catch((function(t){return g(t)})):b(e)||e}catch(t){return g(t)}};return f?f.apply(void 0,c([this],a(h),!1)).then((function(t){return t.exit?t.result:w()})).catch((function(t){return g(t)})):w()}}}},3771:function(t,e,n){"use strict";n.d(e,{p:function(){return a}});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=Symbol("instances");function a(t){return function(e){var n=e;n[i]={};var a=Symbol("instance"),c=function(){var e,c=[].slice.call(arguments),u=t?JSON.stringify(t.apply(void 0,o([],r(c),!1))):a;return n.prototype!==this.constructor.prototype?((e=n.constructor).call.apply(e,o([this],r(c),!1)),this):(n[i][u]||(n[i][u]=new(n.bind.apply(n,o([void 0],r(c),!1)))),n[i][u])};return Object.defineProperties(c,Object.getOwnPropertyDescriptors(n)),c}}},280:function(t,e,n){"use strict";n.d(e,{u:function(){return l}});var r,o,i,a=n(3771),c=n(9287),u=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s={all:i=i||new Map,on:function(t,e){var n=i.get(t);n?n.push(e):i.set(t,[e])},off:function(t,e){var n=i.get(t);n&&(e?n.splice(n.indexOf(e)>>>0,1):i.set(t,[]))},emit:function(t,e){var n=i.get(t);n&&n.slice().map((function(t){t(e)})),(n=i.get("*"))&&n.slice().map((function(n){n(t,e)}))}},l=new(function(){function t(){this.cache={}}return t.prototype.emit=function(t,e){if(!s.all.get(t))return(this.cache[t]||(this.cache[t]=[])).push(e),void(this.cache[t]=this.cache[t].slice(-50));s.emit(t,e)},t.prototype.on=function(t,e){var n=this;return this.cache[t]&&this.cache[t].map((function(t){return e.call(n,t)})),s.on(t,e),{dispose:function(){return n.off(t,e)}}},t.prototype.off=function(t,e){s.off(t,e)},t.prototype.has=function(t){return Boolean(s.all.get(t))},t=u([(0,a.p)()],t)}());"undefined"!=typeof window&&(null===(r=window.addEventListener)||void 0===r||r.call(window,"online",(function(){return l.emit(c.GE.NETWORK_ONLINE)}))),"undefined"!=typeof document&&(null===(o=document.addEventListener)||void 0===o||o.call(document,"visibilitychange",(function(){"visible"===document.visibilityState&&l.emit(c.GE.BACK_TO_FRONT)})))},9577:function(t,e,n){"use strict";n.d(e,{W:function(){return c},n:function(){return u}});var r="Symbol"in n.g&&"iterator"in Symbol;function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'.concat(t,'"'));return t}function i(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}var c=function(){function t(e){this.map={},this.map={},e instanceof t||"undefined"!=typeof Headers&&e instanceof Headers?e.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(e)?e.forEach((function(t){this.append(t[0],t[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}return t.prototype.append=function(t,e){t=o(t),e=i(e);var n=this.map[t];this.map[t]=n?"".concat(n,", ").concat(e):e},t.prototype.delete=function(t){delete this.map[o(t)]},t.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},t.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},t.prototype.set=function(t,e){this.map[o(t)]=i(e)},t.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),a(t)},t.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),a(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),a(t)},t}();function u(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n,r=t.split(":"),o=null===(n=r.shift())||void 0===n?void 0:n.trim();if(o){var i=r.join(":").trim();try{e.append(o,i)}catch(t){}}})),e}},9396:function(t,e,n){"use strict";n.d(e,{n:function(){return p}});var r,o=n(5404),i=n(3091),a=n(427),c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t.Success="Success",t.Error="Error",t.Timeout="Timeout",t.Abort="Abort"}(r||(r={}));var p=function(){function t(t){this.timer={},this.abortController={},this.requestTimeout=null==t?void 0:t.requestTimeout,this.responseTimeout=null==t?void 0:t.responseTimeout,(null==t?void 0:t.dependencies)&&(this.dependencies=t.dependencies)}return Object.defineProperty(t.prototype,"key",{get:function(){return this.constructor.key},enumerable:!1,configurable:!0}),t.prototype.doInterceptor=function(t,e,n){var o,i=this,c=(0,a.Z)(),u=!1,f=!1,p=n[0],h=function(t){u=!0,o(t)},d=function(){u||(p.lock(),null==h||h({success:f,reason:r.Abort}))};this.abortController[c]=d;var y=new Promise((function(t){o=t}));try{t.apply(void 0,l([],s(n),!1)).then((function(t){u||h({success:f=!0,result:t,reason:r.Success})})).catch((function(t){h({success:f,reason:r.Error,message:t.message})})),void 0!==e&&e>=0&&(this.timer[c]=setTimeout((function(){i.timer[c]=void 0,u||(p.lock(),h({success:f,reason:r.Timeout}))}),e))}catch(t){h({success:f,reason:r.Error,message:t.message})}return{abort:d,promise:y}},t.prototype.doRequestInterceptor=function(t){var e=new o.S(t);return this.doInterceptor(this.request,this.requestTimeout,[e])},t.prototype.doResponseInterceptor=function(t,e){var n=new i.J(t),r=new o.S(e);return r.lock(),this.doInterceptor(this.response,this.responseTimeout,[n,r])},t.prototype.request=function(t){return c(this,void 0,Promise,(function(){return u(this,(function(t){return[2,!0]}))}))},t.prototype.response=function(t,e){return c(this,void 0,Promise,(function(){return u(this,(function(t){return[2,!0]}))}))},t.prototype.dispose=function(){var t,e,n,r;try{for(var o=f(Object.keys(this.abortController)),i=o.next();!i.done;i=o.next()){var a=i.value;(0,this.abortController[a])()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.abortController={};try{for(var c=f(Object.keys(this.timer)),u=c.next();!u.done;u=c.next()){a=u.value;var s=this.timer[a];void 0!==s&&clearTimeout(s)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}this.timer={}},t.key="Interceptor",t}()},5404:function(t,e,n){"use strict";n.d(e,{S:function(){return a},V:function(){return i}});var r=n(9577),o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=function(){function t(t){this.headers=new r.W(null==t?void 0:t.headers),this.originURL=null==t?void 0:t.url,this.originBody=null==t?void 0:t.body}return t.fromFetch=function(e,n){var r=new Request(e,n),o=new Headers;(e instanceof Request&&e.headers&&e.headers.forEach((function(t,e){o.append(e,t)})),null==n?void 0:n.headers)&&new Headers(n.headers).forEach((function(t,e){o.append(e,t)}));return new t({headers:o,url:r.url,body:r.body})},t.fromXHR=function(e,n){return new t({headers:null==n?void 0:n.headers,method:null==n?void 0:n.method,url:null==n?void 0:n.url,body:null==n?void 0:n.body})},Object.defineProperty(t.prototype,"url",{get:function(){return this.originURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteURL",{get:function(){if(this.originURL)return new URL(this.originURL,location.href).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.originBody},enumerable:!1,configurable:!0}),t.prototype.applyOnFetch=function(t,e,n){var r=new Request(t,e),i=new Headers(r.headers);return this.headers.forEach((function(t,e){n?i.append(e,t):i.set(e,t)})),o(o({},e),{headers:i})},t.prototype.applyOnXHR=function(t){this.headers.forEach((function(e,n){t.setRequestHeader(n,e)}))},t.prototype.clone=function(){return new t({headers:this.headers})},t}(),a=function(){function t(t){this.locked=!1,this.content=t}return Object.defineProperty(t.prototype,"url",{get:function(){return this.content.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteURL",{get:function(){return this.content.absoluteURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.content.body},enumerable:!1,configurable:!0}),t.prototype.setHeader=function(t,e){this.locked||this.content.headers.set(t,e)},t.prototype.appendHeader=function(t,e){this.locked||this.content.headers.append(t,e)},t.prototype.getHeader=function(t){return this.content.headers.get(t)},t.prototype.headerEntries=function(){return this.content.headers.entries()},t.prototype.headerKeys=function(){return this.content.headers.keys()},t.prototype.headerValues=function(){return this.content.headers.values()},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t}()},3091:function(t,e,n){"use strict";n.d(e,{J:function(){return i},u:function(){return o}});var r=n(9577),o=function(){function t(t){this.headers=new r.W(null==t?void 0:t.headers),this.status=null==t?void 0:t.status}return t.fromFetch=function(e){return new t({headers:new Headers(e.headers),status:e.status})},t.fromXHR=function(e){var n=e.getAllResponseHeaders(),o=e.status;return new t({headers:(0,r.n)(n),status:o})},t.prototype.clone=function(){return new t({headers:this.headers})},t}(),i=function(){function t(t){this.locked=!1,this.content=t}return t.prototype.getHeader=function(t){return this.content.headers.get(t)},t.prototype.getStatus=function(){return this.content.status},t.prototype.headerEntries=function(){return this.content.headers.entries()},t.prototype.headerKeys=function(){return this.content.headers.keys()},t.prototype.headerValues=function(){return this.content.headers.values()},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t}()},7316:function(t,e,n){"use strict";n.d(e,{FD:function(){return _t},UE:function(){return gt},Ct:function(){return mt},YC:function(){return Ct},BD:function(){return Et},pF:function(){return wt},m5:function(){return Ot}});var r,o=n(2850),i=n.n(o),a=n(925),c=n(5371),u=n(6980),s=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){function t(){this.listeners=[],this.notifyingCount=0,this.needRemoveListenerCount=0,this.disposed=!1}return t.prototype.dispose=function(){this.disposed=!0,this.listeners=[]},t.prototype.addListener=function(t){var e=this;return this.listeners.push(t),function(){e.removeListener(t)}},t.prototype.removeListener=function(t){if(!this.disposed)for(var e=this.listeners.length,n=0;n<e&&!this.disposed;n++){if(this.listeners[n]===t){0===this.notifyingCount?this.listeners.splice(n,1):(this.listeners[n]=null,this.needRemoveListenerCount++);break}}},t.prototype.cleanNeedRemoveListener=function(){if(!this.disposed)for(var t=0;t<this.listeners.length;){this.listeners[t]?t++:this.listeners.splice(t,1)}},t.prototype.notifyListeners=function(t){this.internalNotifyListener(t)},t.prototype.activeListener=function(t,e){null==t||t(e)},t.prototype.internalNotifyListener=function(t){if(!this.disposed){this.notifyingCount++;for(var e=this.listeners.length,n=0;n<e&&!this.disposed;n++){var r=this.listeners[n];this.activeListener(r,t)}this.notifyingCount--,0===this.notifyingCount&&this.needRemoveListenerCount>0&&(this.cleanNeedRemoveListener(),this.needRemoveListenerCount=0)}},t}(),f=(function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}s(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.internalValue},set:function(t){this.internalSetValue(t),this.notifyListeners(t)},enumerable:!1,configurable:!0}),e.prototype.updateValue=function(t,e){e?this.internalSetValue(t):this.value=t},e.prototype.internalSetValue=function(t){this.internalValue!==t&&(this.internalValue=t)},e.prototype.addListener=function(e){return t.prototype.addListener.call(this,e)},e.prototype.removeListener=function(e){t.prototype.removeListener.call(this,e)}}(l),n(5062)),p=n(9676),h=n(6025);var d=function(t){return"string"==typeof t||!(0,p.Z)(t)&&(0,h.Z)(t)&&"[object String]"==(0,f.Z)(t)},y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function v(t,e){void 0===e&&(e=!1);var n="";return n=t instanceof Request?t.url:function(t){return t instanceof URL}(t)?t.href:t,e||(n=this.isString(n)?n.split("?")[0]:n),n}var b=n(5404),g=n(3091),w=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},_=function(){function t(t){this.whiteList=null==t?void 0:t.whiteList,this.handleRequest=null==t?void 0:t.handleRequest,this.handleResponse=null==t?void 0:t.handleResponse,"undefined"!=typeof window&&window.fetch&&(this.revoke=this.patch())}return t.prototype.inWhiteList=function(t){return w(this,void 0,Promise,(function(){var e;return m(this,(function(n){return(e=this.whiteList)?Array.isArray(e)?[2,e.some((function(e){return e===t}))]:[2,e(t)]:[2,!1]}))}))},t.prototype.patch=function(){var t,e,n=this,r=!1,o=window.fetch,i=function(t,e){return w(n,void 0,void 0,(function(){var n,i,a,c,u,s=this;return m(this,(function(l){switch(l.label){case 0:return r?[2,o(t,e)]:(n=v(t,!0),[4,this.inWhiteList(n)]);case 1:return l.sent()?[2,o(t,e)]:(i=t,a=e,c=b.V.fromFetch(t,e),this.handleRequest?[4,this.handleRequest(c)]:[3,3]);case 2:c=l.sent(),u=c.applyOnFetch(t,e),i=t,a=u,l.label=3;case 3:return[2,o(i,a).then((function(t){return w(s,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return this.handleResponse?[4,this.handleResponse(g.u.fromFetch(t),c)]:[3,2];case 1:return e.sent(),[2,t];case 2:return[2,t]}}))}))}))]}}))}))};return t=o,e=i,Object.defineProperties(e,{name:Object.getOwnPropertyDescriptor(t,"name"),length:Object.getOwnPropertyDescriptor(t,"length"),toString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.toString()}},toLocaleString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.toLocaleString()}},valueOf:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.valueOf()}}}),window.fetch=i,function(){r=!0}},t.prototype.dispose=function(){var t;null===(t=this.revoke)||void 0===t||t.call(this),this.handleRequest=void 0,this.handleResponse=void 0,this.whiteList=void 0},t}(),E=n(9577),O=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},C=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},k=function(){function t(t){this.whiteList=null==t?void 0:t.whiteList,this.handleRequest=null==t?void 0:t.handleRequest,this.handleResponse=null==t?void 0:t.handleResponse,"undefined"!=typeof window&&window.XMLHttpRequest&&(this.revoke=this.patch())}return t.prototype.inWhiteList=function(t){return O(this,void 0,Promise,(function(){var e;return C(this,(function(n){return(e=this.whiteList)?Array.isArray(e)?[2,e.some((function(e){return e===t}))]:[2,e(t)]:[2,!1]}))}))},t.prototype.patch=function(){var t=window.XMLHttpRequest,e=!1,n=this;return window.XMLHttpRequest=new Proxy(t,{construct:function(t){if(e)return new t;var r,o,i,a=new t,c=new E.W,u=!1,s=function(t){return function(){for(var r=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];4!==this.readyState||e||u?null==t||t.call(this,o):O(r,void 0,void 0,(function(){var e,r;return C(this,(function(a){switch(a.label){case 0:return n.handleRequest?(e=g.u.fromXHR(this),[4,null===(r=n.handleResponse)||void 0===r?void 0:r.call(n,e,i)]):[3,2];case 1:a.sent(),a.label=2;case 2:return null==t||t.call(this,o),[2]}}))}))}},l=new Proxy(a,{get:function(t,l,f){var p=t[l],h="";try{h=typeof p}catch(e){return t[l]}if(e)return"function"===h?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return p.apply(this===f?t:this,e)}:t[l];try{if("setRequestHeader"===l)return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c.append(t[0],t[1])};if("open"===l)return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o=e[0],r=e[1],t[l].apply(this===f?t:this,e)};if("send"===l)return function(){for(var p=this,h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];if(e)return c.forEach((function(t,e){a.setRequestHeader(e,t)})),void t[l].apply(this===f?t:this,h);O(p,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,n.inWhiteList(r)];case 1:return(u=e.sent())?(c.forEach((function(t,e){a.setRequestHeader(e,t)})),t[l].apply(this===f?t:this,h),[2]):n.handleRequest?(i=b.V.fromXHR(this,{headers:c,url:r,method:o,body:h[0]}),[4,n.handleRequest(i)]):[3,3];case 2:return(i=e.sent()).applyOnXHR(a),[3,4];case 3:c.forEach((function(t,e){a.setRequestHeader(e,t)})),e.label=4;case 4:return t.onreadystatechange||(t.onreadystatechange=s(null)),t[l].apply(this===f?t:this,h),[2]}}))}))}}catch(t){}return"function"!==h?t[l]:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return p.apply(this===f?t:this,e)}},set:function(t,n,r){return e?(t[n]=r,!0):"onreadystatechange"===n?(t[n]=s(r),!0):(t[n]=r,!0)}});return l}}),function(){e=!0}},t.prototype.dispose=function(){var t;null===(t=this.revoke)||void 0===t||t.call(this)},t}(),P=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},I=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},S=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},A=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},T=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function R(){return"undefined"!=typeof performance?performance.now():Date.now()}var L=function(){function t(t){var e=this;this.disposed=!1,this.listenable=new l,this.requestInterceptors=[],this.responseInterceptors=[],this.handleRequest=function(t){return P(e,void 0,void 0,(function(){return I(this,(function(e){switch(e.label){case 0:return[4,this.requestScheduler(t)];case 1:return e.sent(),[2,t]}}))}))},this.handleResponse=function(t,n){return P(e,void 0,void 0,(function(){return I(this,(function(e){switch(e.label){case 0:return[4,this.responseScheduler(t,n)];case 1:return e.sent(),[2]}}))}))},this.inWhiteList=function(t){var n=e.whiteList;return!!n&&(Array.isArray(n)?n.some((function(e){return e===t})):n(t))},this.whiteList=null==t?void 0:t.whiteList,this.fetchPatcher=new _({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList}),this.xhrPatcher=new k({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList})}return t.prototype.setInterceptors=function(t,e){t&&(this.requestInterceptors=A([],S(t),!1)),e&&(this.responseInterceptors=A([],S(e),!1))},t.prototype.appendInterceptors=function(t,e){var n,r;t&&(n=this.requestInterceptors).push.apply(n,A([],S(t),!1)),e&&(r=this.responseInterceptors).push.apply(r,A([],S(e),!1))},t.prototype.addListener=function(t){return this.listenable.addListener(t)},t.prototype.requestScheduler=function(t){return P(this,void 0,Promise,(function(){var e,n,r;return I(this,(function(o){switch(o.label){case 0:return this.requestInterceptors.length?(e=[],n=A([],S(this.requestInterceptors),!1),r=R(),[4,this.runScheduler("Request",[t],e,n)]):[2];case 1:return o.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"request",duration:R()-r,done:e.map((function(t){return t.key})),pending:n.map((function(t){return t.key}))}}),[2]}}))}))},t.prototype.responseScheduler=function(t,e){return P(this,void 0,Promise,(function(){var n,r,o;return I(this,(function(i){switch(i.label){case 0:return this.responseInterceptors.length?(n=[],r=A([],S(this.responseInterceptors),!1),o=R(),[4,this.runScheduler("Response",[t,e],n,r)]):[2];case 1:return i.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"response",duration:R()-o,done:n.map((function(t){return t.key})),pending:r.map((function(t){return t.key}))}}),[2]}}))}))},t.prototype.runScheduler=function(t,e,n,r){var o;return P(this,void 0,void 0,(function(){var i,a,c,u,s,l,f,p,h,d,y,v,b,g,w,m,_,E,O,C,k,P,L,N,D,x,U=this;return I(this,(function(I){if(!r.length)return[2];a="do".concat(t,"Interceptor"),c=t.toLowerCase(),u=new Promise((function(t){return i=t})),s=[],l={};try{for(f=T(n),p=f.next();!p.done;p=f.next())C=p.value,l[C.key]=!0}catch(t){k={error:t}}finally{try{p&&!p.done&&(P=f.return)&&P.call(f)}finally{if(k)throw k.error}}for(h=r.length-1;h>=0;){if(C=r[h],null==(d=null===(o=C.dependencies)||void 0===o?void 0:o[c])?void 0:d.length){y=!0;try{for(L=void 0,v=T(d),b=v.next();!b.done;b=v.next())if("string"==typeof(g=b.value)){if(!l[g]){y=!1;break}}else if(!l[g.key]){y=!1;break}}catch(t){L={error:t}}finally{try{b&&!b.done&&(N=v.return)&&N.call(v)}finally{if(L)throw L.error}}y&&(s.push(C),r.splice(h,1))}else s.push(C),r.splice(h,1);h--}if(!s.length)return[2];w=0,m=function(){w===s.length&&(null==i||i())},_=function(o){var i=R();o[a].apply(o,A([],S(e),!1)).promise.then((function(a){var u=a.success,s=a.reason,l=a.result,f=a.message,p=R()-i;U.listenable.notifyListeners({eventName:"InterceptorFinish",data:{key:o.key,type:c,success:u,duration:p,reason:s,message:f}}),u?(n.push(o),!0===l&&U.runScheduler(t,e,n,r).then((function(){w++,m()}))):(w++,m())}))};try{for(E=T(s),O=E.next();!O.done;O=E.next())C=O.value,_(C)}catch(t){D={error:t}}finally{try{O&&!O.done&&(x=E.return)&&x.call(E)}finally{if(D)throw D.error}}return[2,u]}))}))},t.prototype.dispose=function(){this.disposed=!0,this.listenable.dispose(),this.fetchPatcher.dispose(),this.xhrPatcher.dispose()},t}(),N=n(280),D=n(9396),x=n(9380),U=n(9287),F=n(1234),j=n(9437),M=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var B,W=n(8598);!function(t){t.Admin="13"}(B||(B={}));var q,G,H=function(t){var e=t.securityWebDomain,n=t.urlParams,r=t.lscCode,o=t.lscDecision,i=t.appId,a=function(){window.onbeforeunload=null,null===W.V8||void 0===W.V8||W.V8.removeAllHandlers(),window.location.href="https://".concat(e,"/conditionalaccess/deny?").concat(function(t){var e,n;function r(t){return encodeURIComponent(t).replace(/%20/g,"+")}var o=function t(e,n){void 0===n&&(n="");var r={};return Object.keys(e).forEach((function(o){"object"==typeof e[o]&&null!==e[o]?Object.assign(r,t(e[o],n?"".concat(n,"[").concat(o,"]"):o)):r[n?"".concat(n,"[").concat(o,"]"):o]=e[o]})),r}(t),i=Object.keys(o),a="";try{for(var c=M(i),u=c.next();!u.done;u=c.next()){var s=u.value;a+="".concat(r(s),"=").concat(r(o[s]),"&")}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a.slice(0,-1)}(n))};"undefined"==typeof window||c.Ru||a();try{c.Ru&&(i===B.Admin&&a(),ShellAPI.app.ipc.emit(U.ST.CONDITIONAL_ACCESS,{lscCode:r,lscDecision:o,appId:i}))}catch(t){}},K=n(7126),V=n(5568);!function(t,e,n){function r(t,e){var n=parseInt(t.slice(e,e+2),16);return n>>>7==0?[1,n]:n>>>6==2?(n=(63&n)<<8,[2,n+=parseInt(t.slice(e+2,e+4),16)]):(n=(63&n)<<16,[3,n+=parseInt(t.slice(e+2,e+6),16)])}var o,i=0,a=[],c=[];for(o=0;o<4;++o)i+=(3&parseInt(t.slice(8+2*o,10+2*o),16))<<2*o;var u=parseInt(t.slice(16,24),16),s=2*parseInt(t.slice(32,40),16);for(o=40;o<s+40;o+=2)a.push(parseInt(t.slice(o,o+2),16));var l=s+40,f=parseInt(t.slice(l,l+4),16);for(l+=4,o=0;o<f;++o){var p=r(t,l);l+=2*p[0];for(var h="",d=0;d<p[1];++d){var y=r(t,l);h+=String.fromCharCode(i^y[1]),l+=2*y[0]}c.push(h)}e.p=null,function t(e,n,r,o,i){var u,s,l,f,p,h=-1,d=[],y=[0,null],v=null,b=[n];for(s=Math.min(n.length,r),l=0;l<s;++l)b.push(n[l]);b.p=o;for(var g=[];;)try{switch(a[e++]){case 26:d[++h]=!0;break;case 0:d[++h]=!1;break;case 30:d[++h]=null;break;case 66:u=a[e++],d[++h]=u<<24>>24;break;case 20:u=(a[e]<<8)+a[e+1],e+=2,d[++h]=u<<16>>16;break;case 48:u=((u=((u=a[e++])<<8)+a[e++])<<8)+a[e++],d[++h]=(u<<8)+a[e++];break;case 2:u=(a[e]<<8)+a[e+1],e+=2,d[++h]=c[u];break;case 63:d[++h]=void 0;break;case 33:d[++h]=i;break;case 9:u=(a[e]<<8)+a[e+1],e+=2,h=h-u+1,s=d.slice(h,h+u),d[h]=s;break;case 31:d[++h]={};break;case 51:u=(a[e]<<8)+a[e+1],e+=2,s=c[u],l=d[h--],d[h][s]=l;break;case 19:for(s=a[e++],l=a[e++],f=b;s>0;--s)f=f.p;d[++h]=f[l];break;case 22:u=(a[e]<<8)+a[e+1],e+=2,s=c[u],d[h]=d[h][s];break;case 56:s=d[h--],d[h]=d[h][s];break;case 6:for(s=a[e++],l=a[e++],f=b;s>0;--s)f=f.p;f[l]=d[h--];break;case 16:s=d[h--],l=d[h--],f=d[h--],l[s]=f;break;case 12:for(s=a[e++],l=a[e++],f=b,f=b;s>0;--s)f=f.p;d[++h]=f,d[++h]=l;break;case 23:s=d[h--],d[h]+=s;break;case 8:s=d[h--],f=(l=d[h--])[s]--,d[++h]=f;break;case 3:s=d[h--],d[h]=d[h]===s;break;case 43:s=d[h--],d[h]=d[h]!==s;break;case 32:s=d[h--],d[h]=d[h]>s;break;case 72:d[h]=!d[h];break;case 41:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,d[h]?--h:e+=u;break;case 75:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,d[h]?e+=u:--h;break;case 76:s=d[h--],(l=d[h--])[s]=d[h];break;case 61:d[h]=void 0;break;case 39:d[h]=typeof d[h];break;case 70:u=a[e++],s=d[h--],(l=function t(){var e=t._v;return(0,t._u)(e[0],arguments,e[1],e[2],this)})._v=[s,u,b],l._u=t,d[++h]=l;break;case 44:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,(s=g[g.length-1])[1]=e+u;break;case 69:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,(s=g[g.length-1])&&!s[1]?(s[0]=3,s.push(e)):g.push([1,0,e]),e+=u;break;case 59:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,g.push([2,0,e]),e+=u;break;case 50:throw s=d[h--];case 18:if(l=(s=g.pop())[0],f=y[0],1===l)e=s[1];else if(0===l)if(0===f)e=s[1];else{if(1!==f)throw y[1];if(!v)return y[1];e=v[1],i=v[2],b=v[3],g=v[4],d[++h]=y[1],y=[0,null],v=v[0]}else e=s[2],s[0]=0,g.push(s);break;case 62:for(s=d[h--],l=null;f=g.pop();)if(2===f[0]||3===f[0]){l=f;break}if(l)y=[1,s],e=l[2],l[0]=0,g.push(l);else{if(!v)return s;e=v[1],i=v[2],b=v[3],g=v[4],d[++h]=s,y=[0,null],v=v[0]}break;case 14:h-=u=a[e++],l=d.slice(h+1,h+u+1),s=d[h--],f=d[h--],s._u===t?(s=s._v,v=[v,e,i,b,g],e=s[0],null==f&&(f=function(){return this}()),i=f,(b=[l].concat(l)).length=Math.min(s[1],u)+1,b.p=s[2],g=[]):(p=s.apply(f,l),d[++h]=p);break;case 36:e+=2+(u=(u=(a[e]<<8)+a[e+1])<<16>>16);break;case 40:u=(u=(a[e]<<8)+a[e+1])<<16>>16,e+=2,(s=d[h--])||(e+=u);break;case 7:--h;break;case 53:s=d[h],d[++h]=s;break;default:throw new Error("ioe")}}catch(t){for(y=[0,null];(u=g.pop())&&!u[0];);if(!u){t:for(;v;){for(s=v[4];u=s.pop();)if(u[0])break t;v=v[0]}if(!v)throw t;e=v[1],i=v[2],b=v[3],g=v[4],v=v[0]}1===(s=u[0])?(e=u[2],u[0]=0,g.push(u),d[++h]=t):2===s?(e=u[2],u[0]=0,g.push(u),y=[3,t]):(e=u[3],u[0]=2,g.push(u),d[++h]=t)}}(u,[],0,e,n)}("504B010188813483000002b28136838a00000301130200270200010329000a13000113020016000238060003130003482800041300013e130003351600031300010e010600040900000600063b00413b000e13000728000713000716000432122c002c1300052900071300051600054829000b130004020006380c00034c28000d130003351600031300040e0107121245000e0600081f130008330004060007122c003c13000242003d034b00070c000208420020290011130004351600070e000c00054c16000548280013130006351600081300051600090e010724ffc5121300063e1302013516000a1301023516000b300000012846021f0e020e010600021e130207130002130002170e010600031e1302021300020e0106000402000d3516000e13000302000f0e023516000e1300040e010600051300053e1301013516000c1300020e01060003130003482800041300013e130003130001130002101300013e130002351600100e001400c8034b001c130002351600100e001401930329000c130002351600111302110e01482800021a3e02000d06000345000406000c122c00161e1302031300013516000c13020d0e010e010600031213000348280002003e1e1301011300031e034b000713000342003d0328000642003d24000c1300033516001202000f0e0142020e0206000413000442003806000513000442013806000613000648280002003e45000606000d003e122c000d1e1302041300060e01060007121e130207130007130007170e011300052b060008130008280002003e1e1302081300070e01060009130205351600131300090e013516000b300000027646021f0e0206000a13010335160015300000028e46010e0106000b13000b280002003e1a3e13010913000238130001130002351600140e00101300013e1301013516000c1300010e012900141301013516000c1300010e0113010a130001382b3e21290004211600004b00073000000000460206000113010a13010c13010e13010f13010b09000506000213011013010613010909000306000330000000d04601060112300000015046020601133f3e001606809b809b80b680a180a580a00880a280b180aa80a780b080ad80ab80aa0880ad80b080a180b680a580b080ab80b60480a780a580a880a80580a180b680b680ab80b60480a080ab80aa80a10680b680a180b080b180b680aa0480aa80a180bc80b00480b480b180b780ac0580b280a580a880b180a10980b780b080b680ad80aa80a380ad80a280bd0680b680a180a080b180a780a10380a380a180b0000680a780ab80aa80a780a580b00280e280e20980a380a180b0809780b080a580b080b180b70980a380a180b0808c80a180a580a080a180b60580b780b480a880ad80b00480af80a180bd80b70b80b080ab808880ab80b380a180b6808780a580b780a10480b780ab80a980a1",{0:Symbol,1:JSON,get 2(){return btoa},3:decodeURIComponent,get 4(){return atob},5:Object,get 6(){return j.d},get 7(){return i()},get 8(){return K.a},get 9(){return V.sb},get 10(){return V.zg},get 11(){return V.eM},get 12(){return V.Ny},get 13(){return V.dE},get 14(){return V.EG},get 15(){return V._E},get 16(){return V.qw},get 17(){return V.oX},get 18(){return q},set 18(t){q=t},get 19(){return G},set 19(t){G=t}},void 0);var Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},X=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},z=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Z=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},$='{"actions":[{"name":"'.concat(U.Jg.SignatureFailure,'","params":{}}]}'),Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dependencies={request:["LarkGatewayInterceptor"]},e.request=function(t){return J(e,void 0,Promise,(function(){var e,n,r,o;return X(this,(function(i){switch(i.label){case 0:return[4,this.doNotIntercept(t.absoluteURL)];case 1:return i.sent()?[2,!0]:(t.setHeader(V.Ny,encodeURIComponent(a.u.options.passportId)),t.setHeader(V.zg,encodeURIComponent(V.Gd.LSC_VERSION_HEADER)),c.Ru||t.setHeader(V.EG,encodeURIComponent(V.Gd.TERMINAL_HEADER)),[4,a.u.getConfig()]);case 2:return e=null===(o=null===(r=i.sent())||void 0===r?void 0:r.featureSwitch)||void 0===o?void 0:o.signature_check_frontend,!c.Ru&&e&&(n=this.getToken(t),t.setHeader(V.qw,n)),[2,!0]}}))}))},e.response=function(t,n){return J(e,void 0,Promise,(function(){var e,r,o,i,c,u,s,l,f,p,h,d;return X(this,(function(y){switch(y.label){case 0:return[4,this.doNotIntercept()];case 1:return y.sent()?[2,!0]:[4,a.u.getConfig()];case 2:return e=y.sent(),r=null==e?void 0:e.securityWebDomain,e?(o=t.getHeader(V.oX),i=t.getHeader(V.sb),[4,this.validateToken(t,n)]):(this.error("".concat(n.url.toString())),[2,!0]);case 3:return!y.sent()&&(i=$),c=(0,V.JT)(i).actions,u=null===(h=c[0])||void 0===h?void 0:h.name,s=a.u.options.passportId,l=a.u.options.language,f={appid:s,language:l,redirectUrl:(null===(d=null===window||void 0===window?void 0:window.location)||void 0===d?void 0:d.href)||"",actions:c},p=function(){H({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:i,appId:s})},[U.Jg.SignatureFailure].includes(u)&&r?N.u.has(U.ST.SIGNATURE_FAILURE)?(N.u.emit(U.ST.SIGNATURE_FAILURE,{lscCode:o,lscDecision:i,appId:s,doRedirect:function(){return H({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:$,appId:s})}}),[2,!0]):(H({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:$,appId:s}),[2,!1]):o?0===c.length?(this.error("".concat(n.url.toString(),":").concat(x.Rm.NO_ACTION_IN_RESPONSE_HEADER,":").concat(i)),[2,!0]):[U.Jg.Network,U.Jg.MFA,U.Jg.DeviceState,U.Jg.DeviceOwn].includes(u)&&o===j.d&&r?N.u.has(U.ST.CONDITIONAL_ACCESS)?(N.u.emit(U.ST.CONDITIONAL_ACCESS,{lscCode:o,lscDecision:i,appId:s,doRedirect:p}),[2,!0]):(p(),[2,!1]):[2,!0]:[2,!0]}}))}))},e}return Y(e,t),e.prototype.getToken=function(t){var e=t.headerEntries();return q(new Headers(Z([],z(e),!1)))},e.prototype.validateToken=function(t,e){var n;return J(this,void 0,Promise,(function(){var r,o,i;return X(this,(function(c){switch(c.label){case 0:return!e.url.toString().includes("lark/scs/compliance/ping")||e.url.toString().includes("ping_tenant_restriction")?[2,!0]:[4,a.u.getConfig()];case 1:return r=c.sent(),(null===(n=null==r?void 0:r.featureSwitch)||void 0===n?void 0:n.signature_check_frontend)?(o=t.headerEntries(),i=e.headerEntries(),[2,G(new Headers(Z(Z([],z(o),!1),z(i),!1)),t)]):[2,!0]}}))}))},e.prototype.doNotIntercept=function(t){return J(this,void 0,Promise,(function(){var e;return X(this,(function(n){switch(n.label){case 0:return[4,a.u.getConfig()];case 1:return((e=n.sent())||(null==t?void 0:t.includes(window.location.host)))&&e.sdkSwitch?[2,!1]:[2,!0]}}))}))},e.prototype.error=function(t,e){void 0===e&&(e=""),(0,F.DO)({funcName:"",args:[],error:void 0,type:"error",cause:t,stack:e})},e.key="ConditionalAccessInterceptor",e}(D.n),tt=n(3771),et=n(7012),nt=n(5630),rt=n(8884),ot=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},at=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},ct=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ut=function(t){function e(){var e=t.call(this)||this;return e.initTimer(),e.onVisibilityChange(),e}var n;return ot(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),e.prototype.initTimer=function(t){var e;return at(this,void 0,Promise,(function(){var n,r;return ct(this,(function(o){switch(o.label){case 0:return[4,a.u.getConfig()];case 1:return n=o.sent(),r=null===(e=null==n?void 0:n.featureParams)||void 0===e?void 0:e.heartbeatInterval,this.addTimer({handler:this.ping.bind(this),interval:t||r||nt.l3.interval,immediate:!0}),[2]}}))}))},e.prototype.ping=function(){var t,e;return at(this,void 0,void 0,(function(){var n,r,o,i,c;return ct(this,(function(u){switch(u.label){case 0:return[4,a.u.getConfig()];case 1:return n=u.sent(),r=null==n?void 0:n.securityApiDomain,o=null===(t=null==n?void 0:n.featureSwitch)||void 0===t?void 0:t.heartbeat,i=null===(e=null==n?void 0:n.featureParams)||void 0===e?void 0:e.heartbeatInterval,n&&r?this.heartbeatOn!==o&&void 0!==this.heartbeatOn?(this.clearAllTimers(),c=o?i:36e5,this.initTimer(c),this.heartbeatOn=o,[2]):(this.heartbeatOn=o,this.heartbeatOn?((0,et.q)(r),[2]):[2]):[2]}}))}))},e=n=it([(0,tt.p)()],e)}(rt.N),st=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},lt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},ft=[/\/settings\/v3/,/\/monitor_browser\/collect\/batch/,/\/space\/api\/v2\/sheet\/sub_block/,/\/space\/api\/v2\/sheet\/client_vars/,/\/client_vars/,/\/space\/api\/v2\/sheet\/formula_cache/,/\/space\/api\/suite\/permission\/user\/mget/,/\/space\/api\/suite\/permission\/document\/actions\/state/,/\/vc\/api\/custom_level\/first_screen/,/\/space\/api\/comment\/message_box\/get_init_data/,/\/space\/api\/ccm_setting\/get/,/\/space\/api\/user/,/.*\.js/];function pt(t,e){return void 0===t&&(t=[]),t.some((function(t){var n=function(t,e){return void 0===e&&(e=""),new RegExp(t.replace(/[\[\]\\{}()+*?.$^|]/g,(function(t){return"\\".concat(t)})),e)}(t.pattern,t.flags);return n.test(e)}))}function ht(t){return st(this,void 0,Promise,(function(){var e,n,r,o,i,c,u,s;return lt(this,(function(l){switch(l.label){case 0:try{e=new URL(t,window.location.origin).href}catch(n){e=t}return ft.some((function(t){return t.test(e)}))?[2,!0]:[4,a.u.getConfig()];case 1:return(n=l.sent())?(r=n.whiteList,i=(o=r||{}).userAgent,c=o.locationSearch,pt(i,null===navigator||void 0===navigator?void 0:navigator.userAgent)||pt(c,null===location||void 0===location?void 0:location.search)?[2,!0]:(u=function(t){var e=a.u.options.baseDomain,n=t.whiteList||{},r=n.requestUrl,o=n.shouldInterceptUrl,i=null==r?void 0:r.map((function(t){return{pattern:t.pattern.replace(/{{baseDomain}}/,e),flags:t.flags}}));return{shouldInterceptUrls:null==o?void 0:o.map((function(t){return{pattern:t.pattern.replace(/{{baseDomain}}/,e),flags:t.flags}})),shouldnotInterceptUrls:i}}(n),s=u.shouldnotInterceptUrls,[2,!pt(u.shouldInterceptUrls,e)||pt(s,e)])):[2,!0]}}))}))}function dt(t){return st(this,void 0,Promise,(function(){var e,n;return lt(this,(function(r){switch(r.label){case 0:return e=function(t){if(!d(t))return!1;var e=y(t.split(":"),2),n=e[0];return!e[1]||"http"===n||"https"===n}(t),(n=!e)?[3,2]:[4,ht(t)];case 1:n=r.sent(),r.label=2;case 2:return[2,n]}}))}))}var yt,vt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},bt=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},gt=function(){var t,e;try{return(null===(e=null===(t=a.u.getConfigSync())||void 0===t?void 0:t.featureSwitch)||void 0===e?void 0:e.disableInterceptor)?null:(yt||(yt=new L({whiteList:dt})),yt)}catch(t){return null}},wt=function(){var t;new ut;var e=new Q;null===(t=gt())||void 0===t||t.setInterceptors([e],[e])},mt=function(t){var e,n=t.baseDomain,r=((e={})[V._E]=encodeURIComponent(c.rD),e[V.eM]=encodeURIComponent(c.oU),e),o=JSON.stringify(r),a=i()(o+o),s=btoa(o),l="".concat(a,"&&").concat(s);r[V.qw]=l,Object.keys(r).forEach((function(t){var e=r[t];(0,u.d8)({key:t,value:e,domain:n})}))},_t=function(t){var e=t.baseDomain;[V._E,V.eM,V.qw].forEach((function(t){return(0,u.kT)({key:t,domain:e})}))},Et=function(){n.e(82).then(n.bind(n,6978)).then((function(t){return new(0,t.LoginRestriction)}))},Ot=function(){return vt(void 0,void 0,Promise,(function(){var t,e;return bt(this,(function(r){switch(r.label){case 0:return[4,a.u.getConfig()];case 1:return t=r.sent(),(null===(e=null==t?void 0:t.featureSwitch)||void 0===e?void 0:e.web_did_check)&&n.e(303).then(n.bind(n,1398)).then((function(t){return new(0,t.WebdidSecurityCheck)})),[2]}}))}))},Ct=function(){return vt(void 0,void 0,Promise,(function(){var t,e;return bt(this,(function(r){switch(r.label){case 0:return[4,a.u.getConfig()];case 1:return t=r.sent(),(null===(e=null==t?void 0:t.featureSwitch)||void 0===e?void 0:e.web_fingerprint_collect)&&n.e(303).then(n.bind(n,8701)).then((function(t){return new(0,t.Fingerprint)})),[2]}}))}))}},5568:function(t,e,n){"use strict";n.d(e,{DH:function(){return m},EG:function(){return u},Gd:function(){return a},JT:function(){return i},Ny:function(){return s},Rg:function(){return v},T9:function(){return _},UA:function(){return w},_E:function(){return f},cy:function(){return I},dE:function(){return k},eM:function(){return p},h7:function(){return y},md:function(){return b},o7:function(){return d},oX:function(){return C},pX:function(){return P},qA:function(){return h},qw:function(){return l},sb:function(){return O},sh:function(){return E},xH:function(){return g},zg:function(){return c}});var r=n(9287),o=n(7126),i=function(t){var e=(0,o.a)(t),n=(null==e?void 0:e.actions)||[];return e&&!(null==e?void 0:e.effect)&&(e.effect=r.Qm.Deny),{decision:e,actions:n}},a={TERMINAL_HEADER:"web",LSC_VERSION_HEADER:"1"},c="x-lsc-version",u="x-lsc-terminal",s="x-lsc-bizid",l="x-lsc-token",f="x-lgw-terminal-type",p="x-lgw-os-type",h="x-lgw-app-version",d="x-lgw-device-id",y="x-lgw-os-version",v="x-lgw-device-type",b="x-lgw-install-id",g="x-lgw-locale",w="x-lgw-app-id",m="x-lgw-user-id",_="x-lgw-sec-token",E="x-lgw-csrf-token",O="x-lsc-decision",C="x-lsc-code",k="x-lsc-resp-token",P="x-lsc-source-ip",I="lgw_csrf_token"},7546:function(t,e,n){"use strict";n.d(e,{B:function(){return a}});var r=n(925),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=function(){return function(t,e,n){var a=n.value;n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!r.u.hasInited())throw Error("Please use policySdk.init({...}) first !");return a.apply(this,i([],o(t),!1))}}}},925:function(t,e,n){"use strict";n.d(e,{u:function(){return T}});var r,o=n(1937),i=n(3632),a=n(9287),c=n(2547),u=n(5713),s=n(3771),l=n(280),f=n(7316),p=n(1234),h=n(5371),d=function(){return d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},d.apply(this,arguments)},y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},v=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},b=function(t){return y(void 0,void 0,Promise,(function(){var e,n,r,o,i,c,u,s,l,f,y,b,g,w,m,_,E,O,C,k,P,I,S,A,R,L,N,D,x,U,F,j,M,B;return v(this,(function(v){switch(v.label){case 0:if(n=(e=t||{}).baseDomain,r=e.passportId,o=e.devSdkConfig,i=e.env,!n)throw Error("empty baseDomain");return c=function(t,e){void 0===e&&(e="");var n=h.Ru?"pc":"web";return t||(0,p.DO)({error:"getConfigApiUrl: baseDomain not available (passportId: ".concat(e,", platform: ").concat(n,")"),type:"Error",funcName:"getConfigApiUrl",args:[]}),"https://internal-api-lark-api.".concat(t,"/settings/v3/?platform=").concat(n,"&app_id=").concat(e,"&version=5.7.0&tags=policy_sdk_config&fg_tags=policy_sdk_config")}(n,r),i===a.qA.development&&o?(u=o,[3,5]):[3,1];case 1:return T.requestMethod?[3,5]:[3,2];case 2:return[4,fetch(c,{credentials:"include"})];case 3:return[4,v.sent().json()];case 4:u=v.sent(),v.label=5;case 5:if(s=null===(E=null===(_=null===(m=null==u?void 0:u.data)||void 0===m?void 0:m.biz_domain_config)||void 0===_?void 0:_.security_and_compliance)||void 0===E?void 0:E[0],l=null===(k=null===(C=null===(O=null==u?void 0:u.data)||void 0===O?void 0:O.biz_domain_config)||void 0===C?void 0:C.security_login_restriction)||void 0===k?void 0:k[0],f=null===(S=null===(I=null===(P=null==u?void 0:u.data)||void 0===P?void 0:P.biz_domain_config)||void 0===I?void 0:I.passport_accounts)||void 0===S?void 0:S[0],y=null===(L=null===(R=null===(A=null==u?void 0:u.data)||void 0===A?void 0:A.biz_domain_config)||void 0===R?void 0:R.security_web)||void 0===L?void 0:L[0],b=null===(x=null===(D=null===(N=null==u?void 0:u.data)||void 0===N?void 0:N.biz_domain_config)||void 0===D?void 0:D.scs_data)||void 0===x?void 0:x[0],g=null===(j=null===(F=null===(U=null==u?void 0:u.data)||void 0===U?void 0:U.biz_domain_config)||void 0===F?void 0:F.lgw_csrf_domain)||void 0===j?void 0:j[0],w=null===(M=null==u?void 0:u.data)||void 0===M?void 0:M.sec_sdk_web,!s)throw Error("empty api domain");return[2,d(d({},null===(B=null==u?void 0:u.data)||void 0===B?void 0:B.policy_jssdk),{securityApiDomain:s,securityWebDomain:y,securityDataDomain:b,passportAccountsDomain:f,securityLoginRestrictionApiDomain:l,csrfApiDomain:g,secSdkWeb:w})]}}))}))},g=n(9380),w=n(5630),m=n(8884),_=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(t){function e(){var e=t.call(this)||this;return e.onVisibilityChange(),e}return _(e,t),e}(m.N),O=n(2613),C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(){return k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},k.apply(this,arguments)},P=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},I=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},S=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n,r;return C(e,t),n=e,e.prototype.setRequestMethod=function(t){this.requestMethod=t},Object.defineProperty(e.prototype,"options",{get:function(){return this._options?k({},this._options):{}},enumerable:!1,configurable:!0}),e.prototype.handleOnOptionsChange=function(t,e){(null==e?void 0:e.userId)&&(null==t?void 0:t.userId)!==e.userId&&((0,O.I)(e.userId),l.u.emit(a.GE.SDK_LOGIN,e.userId),(null==t?void 0:t.userId)&&l.u.emit(a.GE.TENANT_SWITCH,e))},Object.defineProperty(e,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),e.prototype.hasInited=function(){return Object.keys(this.options).length>0},e.prototype.initOptions=function(t){return!this.hasInited()&&(this._options=t,!0)},e.prototype.setOptions=function(t){if(!this.hasInited())throw Error("Please initOptions first!");return this._options=k(k({},this._options),t),k({},this._options)},e.prototype.queryInfos=function(){var t=this;this.getConfig().then((function(e){var n;(null===(n=null==e?void 0:e.featureSwitch)||void 0===n?void 0:n.signature_check_frontend)?(0,f.Ct)(t.options):(0,f.FD)(t.options),l.u.emit(a.GE.SDK_COLD_BOOST,e);var r=(null==e?void 0:e.featureParams)||{},o=r.policy_engine_fetch_policy_interval,i=r.queryConfigInterval;t.addTimer({handler:function(){return t.queryConfig()},interval:i||w.sI.interval});var c=o||w.sI.interval;t.addTimer({handler:function(){return l.u.emit(a.GE.STATIC_POINTCUT_POLLING)},interval:c})}))},e.prototype.getConfig=function(){var t=this;return c.g.getCacheAsync({query:function(){return t.queryConfig()},partition:this.options.userId}).then((function(t){if(t){var e=t.securityApiDomain;if(!e)throw Error(g.cl.GET_SECURITY_API_DOMAIN_ERROR);(0,i.Rv)({baseURL:e.startsWith("http")?e:"https://".concat(e)})}return t}))},e.prototype.getConfigSync=function(){return c.g.getCache(this.options.userId)||null},e.prototype.queryConfig=function(){return I(this,void 0,void 0,(function(){var t,e,n;return S(this,(function(r){switch(r.label){case 0:return[4,b(this.options)];case 1:return t=r.sent(),e=c.g.getCache(this.options.userId),(n=k(k({},e),t)).securityWebDomain||("empty security web domain@getConfig",(0,p.M2)({error:"empty security web domain@getConfig",type:"Error",funcName:"queryConfig",newSecurityApiDomain:null==t?void 0:t.securityApiDomain,oldSecurityApiDomain:null==e?void 0:e.securityApiDomain,args:[]})),[2,c.g.setCache(this.options.userId,n)]}}))}))},e.prototype.waitUntilFinishLoading=function(t){var e=t.timeout,n=t.interval,r=t.getCache,i=t.setCache,a=t.timeoutDecision;return(0,o.X_)((function(){var t=r();if(!t||(null==t?void 0:t.cache.loading))throw Error(g.cl.GENERAL_QUERY_INFO_TIMEOUT);return t}),{interval:n,timeout:e}).catch((function(t){return console.error(t),(0,p.DO)({error:t,type:"Error",funcName:"waitUntilFinishLoading",args:[e,n,a]}),i({success:!1,loading:!1,fallbackDecision:a,errorMsg:null==t?void 0:t.message,errorStack:null==t?void 0:t.stack})}))},P([(r=function(t,e,n){t.handleOnOptionsChange(e,n)},function(t,e,n){var o,i=null===(o=null==n?void 0:n.initializer)||void 0===o?void 0:o.call(n);return{get:function(){return i},set:function(e){r(t,i,e),i=e}}})],e.prototype,"_options",void 0),P([(0,u.f)({onCatch:function(){return null},onReturn:function(t,e){return e||null}})],e.prototype,"getConfig",null),P([(0,u.f)({onCatch:function(){return null}})],e.prototype,"queryConfig",null),e=n=P([(0,s.p)()],e)}(E),T=A.instance},5288:function(t,e,n){"use strict";n.d(e,{E:function(){return d}});var r=n(3771),o=n(925),i=n(7546),a=n(9287),c=n(1234),u=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},s=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};var l=function(){return l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},l.apply(this,arguments)},f=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},h=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},d=new(function(){function t(){this.plugins={}}return t.prototype.registerPlugin=function(t,e){if(!this.plugins[t.pluginName]){if(!t.pluginName)throw Error("Plugin need static property: pluginName: string, Please add it!");this.plugins[t.pluginName]=new t(o.u.options,e)}},t.prototype.getPluginByName=function(t){return this.plugins[t]},t.prototype.getPluginsBy=function(t){return Object.values(this.plugins).flatMap((function(e){var n,r=null===(n=null==e?void 0:e.match)||void 0===n?void 0:n.call(e,t.map((function(t){return t.policyModel.pointKey})));if(r){var o=new Set(r);return{plugin:e,inputs:t.filter((function(t){return o.has(t.policyModel.pointKey)}))}}return[]}))},t.prototype.execPluginCheckAction=function(t,e){var n=this;return function(t,e){return u(this,void 0,void 0,(function(){var n,r,o,i,a;return s(this,(function(c){switch(c.label){case 0:n=[],r=[],o=0,c.label=1;case 1:if(!(o<t.length))return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,e(t[o],o,t)];case 3:return i=c.sent(),n.push(i.result),i.cancel?[3,6]:[3,5];case 4:return a=c.sent(),r.push({item:t[o],error:a}),[3,5];case 5:return o++,[3,1];case 6:return[2,{result:n,errors:r}]}}))}))}(this.getPluginsBy(t),(function(t){return p(n,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return n=t.plugin,r=t.inputs,[4,e(n,r)];case 1:return[2,{result:o.sent(),cancel:!1}]}}))}))})).then((function(e){var r=e.result,o=e.errors;n.handlePluginError(o);var i=t.reduce((function(t,e){return r.forEach((function(n){var r;if(n){var o=n[e.taskId];if((null==o?void 0:o.effect)===a.Qm.Deny)return void(t[e.taskId]=l(l({},o),{type:a.Up.pluginCalculate}));(null===(r=t[e.taskId])||void 0===r?void 0:r.effect)||(t[e.taskId]=l(l({},o),{type:a.Up.pluginCalculate}))}})),t}),{});return Object.keys(i).length>0&&i}))},t.prototype.execPluginCheckActionSync=function(t,e){var n;return this.getPluginsBy([t]).some((function(t){var r=t.plugin,o=t.inputs,i=e(r,o[0]);return!(!i||(n=i,(null==i?void 0:i.effect)!==a.Qm.Deny))})),!!n&&l(l({},n),{type:a.Up.pluginCalculate})},t.prototype.handlePluginError=function(t){t.length>0&&t.forEach((function(t){(0,c.DO)({funcName:"execPluginCheckAction",error:t.error,args:[t.item.plugin.getPluginName()],type:"Error"})}))},t.prototype.updateOldPastePlugin=function(t,e){var n,r,o=e.options,i=e.pluginProps,a=Object.keys(o).length>0;i&&((null==t?void 0:t.registerProps)&&(t.registerProps=l(l({},t.registerProps),i)),null===(n=null==t?void 0:t.onRegisterPropsChange)||void 0===n||n.call(t,i)),a&&(t.commonProps=l(l({},t.commonProps),o),null===(r=null==t?void 0:t.onCommonPropsChange)||void 0===r||r.call(t,o))},t.prototype.updateProps=function(t){var e=this,n=t.options,r=void 0===n?{}:n,o=t.pluginProps,i=void 0===o?{}:o;Object.keys(this.plugins).forEach((function(t){var n,o=e.plugins[t];e.updateOldPastePlugin(o,{options:r,pluginProps:i[t]}),null===(n=null==o?void 0:o.updateProps)||void 0===n||n.call(o,r,i[t])}))},f([(0,i.B)()],t.prototype,"registerPlugin",null),f([(0,i.B)()],t.prototype,"getPluginByName",null),t=f([(0,r.p)()],t)}())},5537:function(t,e,n){"use strict";n.d(e,{U:function(){return r},W:function(){return o}});var r=function(){},o=function(){function t(t,e){this.commonProps=t,this.pluginProps=e}return t.prototype.match=function(t){var e=this,n=t.filter((function(t){var n;return null===(n=e.pointKeyList)||void 0===n?void 0:n.includes(t)}));return n.length>0&&n},t}()},7012:function(t,e,n){"use strict";n.d(e,{p:function(){return o},q:function(){return r}});var r=function(t){var e=t.startsWith("http")?"".concat(t,"/lark/scs/compliance/ping"):"https://".concat(t,"/lark/scs/compliance/ping");return fetch(e,{method:"GET",credentials:"include"})},o=function(t){var e=t.startsWith("http")?"".concat(t,"/lark/scs/compliance/ping_tenant_restriction"):"https://".concat(t,"/lark/scs/compliance/ping_tenant_restriction");return fetch(e,{method:"GET",credentials:"include"})}},9380:function(t,e,n){"use strict";n.d(e,{My:function(){return u},N9:function(){return i},Rm:function(){return a},cl:function(){return c},fj:function(){return o}});var r=n(9287),o={frontEngine:100},i=(r.Mi.FileProtect,{NO_DECISION:"NO DECISION",USE_FALLBACK_WITHOUT_CACHE:"FALLBACK ON SYNC OPERATION",CALC_POLICY_FROM_BACKEND_FAIL:"CALC POLICY FROM BACKEND FAIL"}),a={NO_ACTION_IN_RESPONSE_HEADER:"NO ACTION IN RESPONSE HEADER",DECISION_IS_NOT_JSON:"DECISION IS NOT JSON",DECISION_IS_NOT_ARRAY:"DECISION IS NOT ARRAY",RESPONSE_ACTION_NAME_IS_EMPTY:"RESPONSE ACTION NAME IS EMPTY",OVERRITE_FETCH_ERROR:"OVERRITE FETCH ERROR",OVERRITE_XHR_ERROR:"OVERRITE XHR ERROR"},c={PRELOAD_DECISION_ERROR:"Preload decision error, we have report to slardar, you can oncall to follow this problem",BATCH_CHECK_DECISION_ERROR:"Batch check decision error, we have report to slardar, you can oncall to follow this problem",IS_FAST_PASS_ERROR:"Is Fast Pass error, we have report to slardar, you can oncall to follow this problem",LOAD_TENANT_POLICY_ERROR:"Load tenant policy error, we have report to slardar, you can oncall to follow this problem",CHECK_ACTION_ERROR:"Exec checkAction error,  we have report to slardar, you can oncall to follow this problem",GET_SECURITY_API_DOMAIN_ERROR:"Get securityApiDomain error,  we have report to slardar, you can oncall to follow this problem",GENERAL_QUERY_INFO_TIMEOUT:"General query info error, we have report to slardar, you can oncall to follow this problem",QUERY_CONFIG_INFO_TIMEOUT:"Query config info error, we have report to slardar, you can oncall to follow this problem",CALC_RULES_WITHOUT_EXPR:"No expr in condition",PRELOAD_DECISION_MAXIMUM_LIMIT_EXCEEDED:"Batch threshold = 2000 met!",LOAD_SDK_CONFIG_FAIL:"Load Sdk Config Fail, Details:",ENFORCEMENT_REQUEST_ERROR:function(t){return"Enforcement request with error code: ".concat(t)},FEATURE_KEY_NOT_FOUND:"Feature key not found error",DISABLE_FILE_OPERATE_ON:"disable_file_operate key is true"},u={batchThreshold:100,countsPerBatchEnforce:20,countsPerBatchControlCheck:100}},5630:function(t,e,n){"use strict";n.d(e,{l3:function(){return o},r_:function(){return i},sI:function(){return r}});var r={retryInterval:1e3,timeout:3e3,interval:3e5},o={retryInterval:1e3,timeout:1e4,interval:5e3},i={retryInterval:1e3,timeout:1e4,interval:9e5}},8884:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var r=function(){function t(){this.timers=[]}return t.prototype.stopAllTimers=function(){this.timers.forEach((function(t){t.timer&&clearInterval(t.timer)}))},t.prototype.clearAllTimers=function(){this.stopAllTimers(),this.timers=[]},t.prototype.addTimer=function(t){if(!t.interval)throw Error("Please set interval for addTimer !");t.immediate&&t.handler(!0),t.timer=setInterval(t.handler,t.interval),this.timers.push(t)},t.prototype.reStartAllInterval=function(){this.timers.forEach((function(t){t.timer&&(clearInterval(t.timer),t.immediate&&t.handler(!0),t.timer=setInterval(t.handler,t.interval))}))},t.prototype.onVisibilityChange=function(){var t,e=this;"undefined"!=typeof document&&(null===(t=document.addEventListener)||void 0===t||t.call(document,"visibilitychange",(function(){"visible"===document.visibilityState?e.reStartAllInterval():e.stopAllTimers()})))},t}()},9287:function(t,e,n){"use strict";var r;n.d(e,{BN:function(){return s},GE:function(){return i},Hu:function(){return l},JZ:function(){return p},Jg:function(){return h},Mi:function(){return a},Qm:function(){return r},ST:function(){return o},Up:function(){return u},Vy:function(){return f},dR:function(){return c},lR:function(){return v},qA:function(){return y},yp:function(){return d}}),function(t){t.Permit="PERMIT",t.Deny="DENY",t.Indeterminate="INDETERMINATE",t.NotApplicable="NOT_APPLICABLE"}(r||(r={}));var o,i,a,c,u,s={effect:r.Permit,actions:[]},l={effect:r.NotApplicable,actions:[]},f={effect:r.Indeterminate,actions:[]},p={effect:r.Deny,actions:[]};!function(t){t.CONDITIONAL_ACCESS="PUSH_REQ_REGULATE",t.FILE_OPERATION_DENIAL="FILE_OPERATION_DENIAL",t.SIGNATURE_FAILURE="SIGNATURE_FAILURE",t.POLICY_UPDATE="POLICY_UPDATE",t.POINTCUT_UPDATE="POINTCUT_UPDATE",t.WORKFLOW_LOG="WORKFLOW_LOG",t.PRELOAD_DECISION_UPDATE="PRELOAD_DECISION_UPDATE"}(o||(o={})),function(t){t.STATIC_POINTCUT_POLLING="STATIC_POINTCUT_CHECK",t.NETWORK_ONLINE="NETWORK_ONLINE",t.BACK_TO_FRONT="VISIBILITY_CHANGE",t.TENANT_SWITCH="TENANT_SWITCH",t.SDK_COLD_BOOST="SDK_COLD_BOOST",t.SDK_LOGIN="SDK_LOGIN"}(i||(i={})),function(t){t.ConditionalAccessPolicy="COND_ACCESS",t.RetentionScopePolicy="RETENTION_SCOPE",t.RetentionDeletePolicy="RETENTION_DELETE",t.DLPPolicy="DLP",t.DLPAsyncPolicy="DLP_ASYNC",t.AlarmBehaviorAudit="ALARM_BEHAVIOR_AUDIT",t.DLPNative="DLP_NATIVE",t.FileProtect="FILE_PROTECT"}(a||(a={})),function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"}(c||(c={})),function(t){t.frontFastpass="frontFastpass",t.frontFallback="frontFallback",t.backendFallback="backendFallback",t.settingsFallback="settingsFallback",t.frontCalculate="frontCalculate",t.backendCalculate="backendCalculate",t.pluginCalculate="pluginCalculate",t.cache="cache",t.unknown="unknown"}(u||(u={}));var h,d,y,v=[u.frontCalculate,u.backendCalculate,u.pluginCalculate];!function(t){t.Network="BLOCKED_BY_IP_RULE",t.MFA="ACCESS_MFA",t.DeviceState="BLOCKED_BY_DEVICE_CREDIBILITY",t.DeviceOwn="BLOCKED_BY_DEVICE_OWNERSHIP",t.FilePolicy="FILE_BLOCK_COMMON",t.Permission="BLOCKED_BY_PERMISSION_PLUGIN",t.Default="DEFAULT",t.SignatureFailure="BLOCKED_BY_SIGNATURE_FAILURE",t.DLP_CONTENT_SENSITIVE="DLP_CONTENT_SENSITIVE",t.DLP_CONTENT_DETECTING="DLP_CONTENT_DETECTING",t.TT_BLOCK="TT_BLOCK",t.FALLBACK_COMMON="FALLBACK_COMMON",t.UNIVERSAL_FALLBACK_COMMON="UNIVERSAL_FALLBACK_COMMON"}(h||(h={})),function(t){t.cn="cn",t.sg="sg",t.va="va",t.gcp="gcp",t.private="private"}(d||(d={})),function(t){t.development="development",t.boe="boe",t.online="online"}(y||(y={}))},6980:function(t,e,n){"use strict";n.d(e,{d8:function(){return r},ej:function(){return o},kT:function(){return i}});var r=function(t){var e=t.key,n=t.value,r=t.domain,o=t.path,i=t.expires,a=void 0===i?new Date(Date.now()+2592e6).toUTCString():i,c=["".concat(e,"=").concat(n),r?"domain=".concat(r):"","expires=".concat(a),o?"path=".concat(o):"path=/"];document.cookie=c.filter(Boolean).join(";")},o=function(t){var e=document.cookie;if(!e||!t)return"";var n=e.split(";").find((function(e){return-1!==e.indexOf("".concat(t,"="))}));return n?function(t){try{return-1!==t.indexOf("%")?decodeURIComponent(t):t}catch(e){return t}}(n.trim().slice(t.length+1,n.length)):""},i=function(t){var e=t.key,n=t.domain,r=t.path,o=["".concat(e,"="),n?"domain=".concat(n):"","expires=Thu, 01 Jan 1970 00:00:01 GMT",r?"path=".concat(r):"path=/"];document.cookie=o.filter(Boolean).join(";")}},5371:function(t,e,n){"use strict";var r,o,i;n.d(e,{OE:function(){return c},Ru:function(){return s},bR:function(){return m},j_:function(){return l},oU:function(){return w},rD:function(){return g},wh:function(){return u}});var a="";"undefined"!=typeof window&&(a=(null===(i=null===(o=null===(r=null===window||void 0===window?void 0:window.navigator)||void 0===r?void 0:r.userAgent)||void 0===o?void 0:o.toLowerCase)||void 0===i?void 0:i.call(o))||"");var c,u,s=~a.indexOf("lark"),l=-1!==a.indexOf("docssdk");!function(t){t[t.Unknown=0]="Unknown",t[t.PC=1]="PC",t[t.Web=2]="Web",t[t.Android=3]="Android",t[t.iOS=4]="iOS"}(c||(c={})),function(t){t[t.Unknown=0]="Unknown",t[t.Windows=1]="Windows",t[t.Linux=2]="Linux",t[t.Mac=3]="Mac",t[t.Android=4]="Android",t[t.iOS=5]="iOS"}(u||(u={}));var f=function(){return!("undefined"==typeof window||!window||!window.navigator)&&(/ipad/gi.test(window.navigator.userAgent)||Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2&&navigator.platform.includes("MacIntel"))};function p(){return/Android/i.test(a)}function h(){return/iphone|ipod/i.test(a)}var d="undefined"!=typeof navigator?navigator.platform:"";function y(){return d.includes("Mac")}function v(){return d.includes("Linux")}function b(){return d.includes("Win")}var g=function(){if(s){if(p())return c.Android;if(h()||f())return c.iOS;if(y()||b()||v())return c.PC}return c.Web}(),w=p()?u.Android:h()||f()?u.iOS:y()?u.Mac:b()?u.Windows:v()?u.Linux:u.Unknown,m=(p()||h()||f(),function(){var t;return(t={},t[c.PC]="pc",t[c.Web]="web",t[c.Android]="web",t[c.iOS]="web",t)[g]}())},7126:function(t,e,n){"use strict";n.d(e,{Z:function(){return o},a:function(){return i}});var r=["OBJECT_TENANT_ID","OBJECT_USER_ID","TENANT_ID","USER_ID","CHAT_ID","operatorTenantId","operatorUid","senderTenantId","senderUserId","chatID"],o=function(t){var e=t;return r.forEach((function(t){e=e.replace(new RegExp('"'.concat(t,'":("([0-9]+)")')),'"'.concat(t,'":$2'))})),e},i=function(t,e){void 0===e&&(e={});try{return JSON.parse(t)}catch(t){return e}}},1234:function(t,e,n){"use strict";n.d(e,{fw:function(){return h},DO:function(){return v},M2:function(){return y},qP:function(){return d}});var r=n(9287),o=function(t){return void 0===t&&(t=""),t.includes("boe")?"boe":"online"},i=function(t){return void 0===t&&(t=""),t.includes("lark")?"sg":t.includes("feishu")?"cn":"sg"},a=n(2613),c=function(){return c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},c.apply(this,arguments)},u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};var l=/(?:\/)?(?:space\/|drive\/)?(?:preview\/)?(?:component\/)?([a-zA-Z-_]+)?(?:\/([\w]*))/;var f=function(){function t(){this.cache=[],this.maxCacheLength=50}return t.prototype.pushCache=function(){var t=this;return{sendEvent:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.cache=s(s([],u(t.cache.slice(1-t.maxCacheLength)),!1),[e],!1)}}},Object.defineProperty(t.prototype,"instance",{get:function(){return this.ins?this.ins:this.pushCache()},set:function(t){this.ins=t,0!==this.cache.length&&this.cache.forEach((function(e){return null==t?void 0:t.sendEvent.apply(t,s([],u(e),!1))}))},enumerable:!1,configurable:!0}),t}(),p=new f,h=function(t){var e=t.env,c=t.region,u=t.bid,s=t.baseDomain,f=t.passportId,h=t.tenantId,d=function(){var t=function(t){if(void 0===t&&(t=window.location.pathname),t.split("/").filter((function(t){return t})).length<2)return"";var e=l.exec(t);return null==e?void 0:e[2]}();n.e(611).then(n.bind(n,5883)).then((function(n){var l=new(0,n.LmpReport)({bid:u||"lark_policy_sdk_fe",env:e||o(s),locale:c||i(s),reportContext:{release:"5.0.1-canary.x710f7069f",name:"policy-sdk",userId:a.x,passportId:f,tenantId:h},plugins:{ajax:{autoWrap:!0,ignoreUrls:[c===r.yp.cn?"https://mon.zijieapi.com/monitor_browser/collect/batch/":"https://mon-va.byteoversea.com/monitor_browser/collect/batch/"],collectBodyOnError:!1},fetch:{autoWrap:!0,ignoreUrls:[c===r.yp.cn?"https://mon.zijieapi.com/monitor_browser/collect/batch/":"https://mon-va.byteoversea.com/monitor_browser/collect/batch/"],collectBodyOnError:!1},resource:{slowSessionThreshold:1e6}}});l.client("on","beforeSend",(function(e){var n,r;return e.common&&t&&(n=e.common,r=t,Object.keys(n).forEach((function(t){var e=n[t];"string"==typeof e&&-1!==e.indexOf(r)&&(n[t]=n[t].replace(r,"***"))}))),e})),p.instance=l}))};try{undefined(d)}catch(t){d()}},d=function(t){p.instance.sendEvent(t)},y=function(t){try{d({name:"policy_sdk_report",categories:c(c({},t),{logCreateAt:(new Date).getTime()})})}catch(t){}},v=function(t){var e;y(c(c({},t),{errorMsg:null===(e=t.error)||void 0===e?void 0:e.message}))}},2613:function(t,e,n){"use strict";var r;n.d(e,{I:function(){return o},x:function(){return r}});var o=function(t){r=t}},1295:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});var r={isFullUpdate:!1}},9437:function(t,e,n){"use strict";n.d(e,{d:function(){return r}});var r="100000"},8598:function(t,e,n){"use strict";n.d(e,{V8:function(){return i}});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=function(){function t(t){this.eventName=t,this.eventHandlers=[],this._window="undefined"!=typeof window?window:void 0,this.hookAdd(),this.hookRemove()}return t.prototype.addHandler=function(t){this.eventHandlers.push(t)},t.prototype.removeHandler=function(t){for(var e=this.eventHandlers.length-1;e>=0;e-=1)if(this.eventHandlers[e]===t)return void this.eventHandlers.splice(e,1)},t.prototype.removeAllHandlers=function(){var t=this._window;if(t)for(var e=this.eventHandlers.length-1;e>=0;e-=1)t.removeEventListener(this.eventName,this.eventHandlers[e])},t.prototype.hookAdd=function(){var t=this,e=this._window;if(e){var n=e.addEventListener;e.addEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r(o||[],2),c=a[0],u=a[1];n.apply(e,o),c===t.eventName&&t.addHandler(u)}}},t.prototype.hookRemove=function(){var t=this,e=this._window;if(e){var n=e.removeEventListener;e.removeEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=r(o||[],2),c=a[0],u=a[1];n.apply(e,o),c===t.eventName&&t.removeHandler(u)}}},t}(),i=new o("beforeunload")},6530:function(t,e,n){"use strict";n.d(e,{De:function(){return a},OP:function(){return u},j0:function(){return c}});var r,o=n(9287),i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},a={LOAD_CONFIG_FAIL_DECISION:i(i({},o.BN),{type:o.Up.frontFallback,message:"load config fail"}),SHARE_READ_SWITCH_OFF_DECISION:i(i({},o.BN),{type:o.Up.settingsFallback,message:"share read off"}),DISABLE_POLICY_ENGINE_DECISION:i(i({},o.BN),{message:"static pointcuts policy polling off",type:o.Up.frontFastpass}),DISABLE_FILE_STRATEGY_DECISION:i(i({},o.BN),{message:"policy check action off",type:o.Up.settingsFallback}),DISABLE_FILE_STRATEGY_CLIENT:i(i({},o.BN),{message:"static pointcuts file policy check action off",type:o.Up.settingsFallback})},c={isFullUpdate:!1},u=((r={})[o.Up.pluginCalculate]=800,r[o.Up.backendCalculate]=700,r[o.Up.frontCalculate]=600,r[o.Up.settingsFallback]=500,r[o.Up.frontFastpass]=400,r[o.Up.cache]=300,r[o.Up.backendFallback]=200,r[o.Up.frontFallback]=100,r[o.Up.unknown]=0,r)},427:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function a(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const c=[];for(let t=0;t<256;++t)c.push((t+256).toString(16).slice(1));function u(t,e=0){return(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase()}var s=function(t,e,n){if(r.randomUUID&&!e&&!t)return r.randomUUID();const o=(t=t||{}).random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=o[t];return e}return u(o)}},1642:function(t,e,n){"use strict";var r=n(2839).Z.Symbol;e.Z=r},5062:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r=n(1642),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r.Z?r.Z.toStringTag:void 0;var u=function(t){var e=i.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o},s=Object.prototype.toString;var l=function(t){return s.call(t)},f=r.Z?r.Z.toStringTag:void 0;var p=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?u(t):l(t)}},2839:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")()},9676:function(t,e){"use strict";var n=Array.isArray;e.Z=n},6025:function(t,e){"use strict";e.Z=function(t){return null!=t&&"object"==typeof t}}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t].call(i.exports,i,i.exports,o),i.exports}o.m=n,o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.f={},o.e=function(t){return Promise.all(Object.keys(o.f).reduce((function(e,n){return o.f[n](t,e),e}),[]))},o.u=function(t){return({82:"login-restriction",219:"file-policy-workflow",303:"security-info",611:"lmp-sdk-report",949:"file-policy-worker"}[t]||t)+".policy-sdk-5.0.1-canary.x710f7069f.js"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="__builtin_policy_sdk__:",o.l=function(n,r,i,a){if(t[n])t[n].push(r);else{var c,u;if(void 0!==i)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var f=s[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==e+i){c=f;break}}c||(u=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.setAttribute("data-webpack",e+i),c.src=n),t[n]=[r];var p=function(e,r){c.onerror=c.onload=null,clearTimeout(h);var o=t[n];if(delete t[n],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(t){return t(r)})),e)return e(r)},h=setTimeout(function(t,e){if(e&&"timeout"===e.type){if(window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var n=Date.now();window.logCDNErrorEntries&&window.logCDNErrorEntries(a,"script",{first_fetch_duration:Date.now()-n}),staticCDNErrorHandler(c.src,"script"),tryToLoadBackupCdn(c.src,"script",!0,p)}}else p(t,e)}.bind(null,void 0,{type:"timeout",target:c}),u?12e4:3e4);if(c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var d=Date.now();c.onerror=function(){window.logCDNErrorEntries&&window.logCDNErrorEntries(a,"script",{first_fetch_duration:Date.now()-d}),staticCDNErrorHandler(c.src,"script"),tryToLoadBackupCdn(c.src,"script",!0,p)}}u&&document.head.appendChild(c)}},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.p=navigator.cdn_host ? navigator.cdn_host+"/lmp/scs/" : document.currentScript.src.substr(0, document.currentScript.src.lastIndexOf('/') + 1),function(){var t={179:0};o.f.j=function(e,n){var r=o.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,o){r=t[e]=[n,o]}));n.push(r[2]=i);var a=o.p+o.u(e),c=new Error;o.l(a,(function(n){if(o.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,r[1](c)}}),"chunk-"+e,e)}};var e=function(e,n){var r,i,a=n[0],c=n[1],u=n[2],s=0;if(a.some((function(e){return 0!==t[e]}))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(u)u(o)}for(e&&e(n);s<a.length;s++)i=a[s],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=this.webpackChunk_builtin_policy_sdk_=this.webpackChunk_builtin_policy_sdk_||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var i={};!function(){"use strict";o.r(i),o.d(i,{ActionNameKey:function(){return u.Jg},DeterministicDecisionTypeEnum:function(){return u.Up},Effect:function(){return u.Qm},EntityDomain:function(){return V.pW},EntityOperate:function(){return V.OW},EntityType:function(){return V.py},Environment:function(){return u.qA},FileSourceDomain:function(){return V.Su},PointKey:function(){return H.MA},PolicyEvent:function(){return u.ST},PolicyPlugin:function(){return K.W},PolicyType:function(){return u.Mi},Region:function(){return u.yp},default:function(){return nt},init:function(){return rt},update:function(){return ot}});var t,e,n,r=o(5288),a=o(925),c=o(280),u=o(9287),s=o(7316),l=o(1234),f=o(8818),p=new(function(){function t(){}return Object.defineProperty(t.prototype,"policyWorker",{get:function(){return this.mPolicyWorker},set:function(t){this.mPolicyWorker=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileProtectChecker",{get:function(){return this.mFileProtectChecker},set:function(t){this.mFileProtectChecker=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"larkGateway",{get:function(){return this.mLarkGateway},set:function(t){this.mLarkGateway=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webdidCheck",{get:function(){return this.mWebdidCheck},set:function(t){this.mWebdidCheck=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loginRestriction",{get:function(){return this.mLoginRestriction},set:function(t){this.mLoginRestriction=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"report",{get:function(){return this.mReport},set:function(t){this.mReport=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secSdk",{get:function(){return this.mSecSdk},set:function(t){this.mSecSdk=t},enumerable:!1,configurable:!0}),t}()),h=o(9396),d=o(5568),y=o(5371),v=function(){return v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},v.apply(this,arguments)},b=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},m=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},_=Math.random().toString().slice(2),E=function(){};if("undefined"!=typeof window&&y.rD!==y.OE.Web){var O,C=function(){var t,e,r,o,i,a,c;try{var u=null!==(e=null===(t=window.LarkWebViewJavaScriptBridge)||void 0===t?void 0:t.nativeCallBack)&&void 0!==e?e:E,s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{if([y.OE.Android,y.OE.iOS].includes(y.rD)){var r=(null==t?void 0:t[0])||{},o=r.callbackID,i=r.data,a=r.callbackType;o===_&&"success"===a&&(n=i),u.apply(void 0,m([],w(t),!1))}if([y.OE.PC].includes(y.rD)){i=w(t||[],1)[0];n=i}}catch(t){}},l={apiName:"larkPrivateGatewayParams",data:{},callbackID:_};window.LarkWebViewJavaScriptBridge&&(window.LarkWebViewJavaScriptBridge.nativeCallBack=s),y.rD===y.OE.Android&&(null===(r=window.Lark_Bridge)||void 0===r||r.invokeNative(JSON.stringify(l))),y.rD===y.OE.iOS&&(null===(a=null===(i=null===(o=window.webkit)||void 0===o?void 0:o.messageHandlers)||void 0===i?void 0:i.invokeNative)||void 0===a||a.postMessage(v(v({},l),{data:{__v2__:!0}}))),y.rD===y.OE.PC&&(null===(c=window.ttJSBridge)||void 0===c||c.invoke(l.apiName,v(v({},l.data),{success:s})))}catch(t){}};if(!Object.prototype.hasOwnProperty.call(window,"LarkWebViewJavaScriptBridge")&&(null===(t=Object.getOwnPropertyDescriptor(window,"LarkWebViewJavaScriptBridge"))||void 0===t?void 0:t.configurable)&&[y.OE.Android,y.OE.iOS].includes(y.rD))Object.defineProperties(window,{LarkWebViewJavaScriptBridge:{get:function(){return O},set:function(t){var e;O=t,Object.defineProperties(t,{nativeCallBack:{get:function(){return e},set:function(t){e=t,C()},configurable:!0}})}}});else if(!Object.prototype.hasOwnProperty.call(window,"ttJSBridge")&&(null===(e=Object.getOwnPropertyDescriptor(window,"ttJSBridge"))||void 0===e?void 0:e.configurable)&&[y.OE.PC].includes(y.rD)){var k;Object.defineProperties(window,{ttJSBridge:{get:function(){return k},set:function(t){k=t,C()}}})}else(window.LarkWebViewJavaScriptBridge||window.ttJSBridge)&&C()}var P=function(){return b(void 0,void 0,void 0,(function(){var t,e,r;return g(this,(function(o){switch(o.label){case 0:if(y.rD===y.OE.Web)return[2,{}];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,ShellAPI.app.passport.getAuthInfo()];case 2:return t=o.sent().userId,[3,4];case 3:return o.sent(),[3,4];case 4:try{e=ShellAPI.app.environment.appVersion}catch(t){}return[2,v(v({},n),(r={},r[d.DH]=t||(null==n?void 0:n[d.DH]),r[d.qA]=e||(null==n?void 0:n[d.qA]),r))]}}))}))},I=o(6980),S="undefined"!=typeof window?window.fetch:function(){return Promise.resolve(new Response)},A=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},T=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function R(){try{return(0,I.ej)(d.cy)||""}catch(t){return""}}function L(t){var e;return A(this,void 0,Promise,(function(){var n,r;return T(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),n=void 0,t.tokenApiUrl?(n=t.tokenApiUrl,[3,3]):[3,1];case 1:return[4,a.u.getConfig()];case 2:if(!(r=null===(e=o.sent())||void 0===e?void 0:e.csrfApiDomain))return[2,""];n="https://".concat(r,"/lgw/csrf_token"),o.label=3;case 3:return n?[4,S(n,{credentials:"include"})]:[2,""];case 4:return o.sent(),[2,(0,I.ej)(d.cy)];case 5:return o.sent(),[2,""];case 6:return[2]}}))}))}var N,D,x=(N=function(t,e){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},N(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),U=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},F=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},j=function(t){function e(e){var n=t.call(this)||this;return n.csrfConfig={},n.request=function(t){return U(n,void 0,Promise,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,this.doNotIntercept(t.url.toString())];case 1:return e.sent()?[2,!0]:(t.setHeader(d._E,encodeURIComponent(y.rD)),t.setHeader(d.eM,encodeURIComponent(y.oU)),a.u.options.appId&&t.setHeader(d.UA,encodeURIComponent(a.u.options.appId)),[4,this.setDynamicParams(t)]);case 2:return e.sent(),[2,!0]}}))}))},"undefined"!=typeof window&&(window.lgw_sdk_hooked=!0),n.csrfConfig=(null==e?void 0:e.csrf)||{},n}return x(e,t),e.prototype.setDynamicParams=function(t){return U(this,void 0,void 0,(function(){var e,n,r,o,i;return F(this,(function(a){switch(a.label){case 0:return[4,P()];case 1:return e=a.sent(),[d.qA,d.Rg,d.o7,d.h7,d.md,d.DH,d.xH].forEach((function(n){(null==e?void 0:e[n])&&t.setHeader(n,encodeURIComponent(e[n]))})),n=new URL(t.url,window.location.origin).searchParams.toString().slice(1),"undefined"!=typeof window&&window.__lark_sec_sdk?(r={query:n,body:t.body},[4,window.__lark_sec_sdk.signRequest(r)]):[3,3];case 2:(o=a.sent())&&t.setHeader(d.T9,o),a.label=3;case 3:return this.csrfConfig.enable?(this.getCsrfTokenPromise||(this.getCsrfTokenPromise=function(t){return A(this,void 0,Promise,(function(){var e;return T(this,(function(n){switch(n.label){case 0:return(e=R())?[3,2]:[4,L(t)];case 1:e=n.sent(),n.label=2;case 2:return[2,e]}}))}))}(this.csrfConfig)),[4,this.getCsrfTokenPromise]):[3,5];case 4:i=a.sent(),this.getCsrfTokenPromise=void 0,t.setHeader(d.sh,i),a.label=5;case 5:return[2]}}))}))},e.prototype.doNotIntercept=function(t){var e;return U(this,void 0,Promise,(function(){var n;return F(this,(function(r){switch(r.label){case 0:return y.oU===y.wh.iOS&&y.Ru&&y.j_&&!/^(https:)?\/\//.test(t)?[2,!0]:[4,a.u.getConfig()];case 1:return(n=r.sent())&&(null===(e=null==n?void 0:n.featureSwitch)||void 0===e?void 0:e.lgw_sdk_web)?[2,!1]:[2,!0]}}))}))},e.key="LarkGatewayInterceptor",e}(h.n),M=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},B=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},W=function(){return M(void 0,void 0,Promise,(function(){var t,e,n;return B(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,a.u.getConfig()];case 1:return t=r.sent(),e=null==t?void 0:t.secSdkWeb,n="https://".concat(null==t?void 0:t.securityApiDomain,"/device/sdk/v5/r"),e&&(o=e.url,new Promise((function(t){if("undefined"!=typeof document)try{var e="https://".concat(o),n=document.createElement("script");n.onload=function(){return t(!0)},n.setAttribute("type","text/javascript"),n.setAttribute("src",e),document.head.appendChild(n)}catch(t){}}))).then((function(){window.__lark_sec_sdk.setEnv(n,e.token)})),[3,3];case 2:return r.sent(),[3,3];case 3:return[2]}var o}))}))},q=o(6530),G=o(1295),H=o(5402),K=o(5537),V=o(1690),Y=function(){return Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Y.apply(this,arguments)},J=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},X=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},z={getPluginInstByName:function(t){return r.E.getPluginByName(t)},registerPlugin:function(t,e){return r.E.registerPlugin(t,e)}},Z={checkAction:function(t){return J(this,void 0,Promise,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,et.initFilePolicyOld()];case 1:return e.sent(),[2,(new p.policyWorker).checkAction(t)]}}))}))},checkActionSync:function(t){return et.initFilePolicyOld(),(new p.policyWorker).checkActionSync(t)},preloadDecisions:function(t){return J(this,void 0,Promise,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,et.initFilePolicyOld()];case 1:return e.sent(),[2,new p.policyWorker("batch").preloadDecisions(t)]}}))}))},isFastPass:function(t){return(new p.policyWorker).isFastPass(t)}},$={checkAction:function(t){return J(this,void 0,Promise,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,et.initFilePolicy()];case 1:return e.sent(),[2,(new p.fileProtectChecker).checkAction(t)]}}))}))},checkActionSync:function(t){return et.initFilePolicy(),(new p.fileProtectChecker).checkActionSync(t)},preloadDecisions:function(t){return J(this,void 0,Promise,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,et.initFilePolicy()];case 1:return e.sent(),[2,(new p.fileProtectChecker).preloadDecisions(t)]}}))}))},isFastPass:function(t){return(new p.fileProtectChecker).isFastPass(t)}},Q={getConfig:function(){return J(void 0,void 0,void 0,(function(){return X(this,(function(t){switch(t.label){case 0:return[4,a.u.getConfig()];case 1:return[2,t.sent()]}}))}))}},tt={onConditionalAccessDenial:function(t){return c.u.on(u.ST.CONDITIONAL_ACCESS,t)},onFilePolicyDenial:function(t){return c.u.on(u.ST.FILE_OPERATION_DENIAL,t)},onPolicyUpdate:function(t){return c.u.on(u.ST.POLICY_UPDATE,t)},onPointcutUpdate:function(t){return c.u.on(u.ST.POINTCUT_UPDATE,t)},onWorkflowLog:function(t){return c.u.on(u.ST.WORKFLOW_LOG,t)},onPreloadDecisionChange:function(t){return c.u.on(u.ST.PRELOAD_DECISION_UPDATE,(function(e){return t(Y(Y({},e),{getTaskIdByInput:function(t){return(0,f.EE)(t)}}))}))}},et=Y(Y({init:function(t){var e=a.u.initOptions(t);return e&&((0,s.pF)(),a.u.queryInfos(),this.initModules(t.modules)),e},initModules:function(t){var e=t||{},n=e.larkGateway,r=e.filePolicy,o=e.webdidCheck,i=e.report,c=e.loginRestriction,u=e.secSdk,f=e.filePolicyOld;if(n&&this.initLarkGateway(),r&&this.initFilePolicy(),!r&&f&&this.initFilePolicyOld(),o){if(p.webdidCheck)return;p.webdidCheck=!0,(0,s.m5)(),(0,s.YC)()}if(i){if(p.report)return;p.report=!0,(0,l.fw)(a.u.options)}if(c){if(p.loginRestriction)return;p.loginRestriction=!0,(0,s.BD)()}if(u){if(p.secSdk)return;p.secSdk=!0,W()}},initFilePolicyOld:function(){var t;return J(this,void 0,void 0,(function(){var e,n,r;return X(this,(function(i){switch(i.label){case 0:return p.policyWorker?[2]:p.fileProtectChecker?(p.policyWorker=p.fileProtectChecker,[2]):[4,Promise.all([o.e(19),o.e(949)]).then(o.bind(o,8456))];case 1:return e=i.sent().PolicyWorker,[4,Promise.all([o.e(19),o.e(949)]).then(o.bind(o,6271))];case 2:return n=i.sent().FilePolicyInterceptor,p.policyWorker=e,c.u.on(u.GE.NETWORK_ONLINE,(function(){(new e).autoCheckStaticActions("network")})),c.u.on(u.GE.SDK_COLD_BOOST,(function(){G.j.isFullUpdate=!0,(new e).autoCheckStaticActions("init")})),c.u.on(u.GE.STATIC_POINTCUT_POLLING,(function(){G.j.isFullUpdate=!0,(new e).autoCheckStaticActions("polling")})),c.u.on(u.GE.BACK_TO_FRONT,(function(){G.j.isFullUpdate=!0,(new e).autoCheckStaticActions("backToFront")})),c.u.on(u.GE.TENANT_SWITCH,(function(){G.j.isFullUpdate=!0,(new e).autoCheckStaticActions("tenantSwitch")})),r=new n,null===(t=(0,s.UE)())||void 0===t||t.appendInterceptors([],[r]),[2]}}))}))},initFilePolicy:function(){var t;return J(this,void 0,void 0,(function(){var e,n,r;return X(this,(function(i){switch(i.label){case 0:return p.fileProtectChecker?[2]:p.policyWorker?(p.fileProtectChecker=p.policyWorker,[2]):[4,Promise.all([o.e(19),o.e(219)]).then(o.bind(o,3886))];case 1:return e=i.sent().FileProtectChecker,[4,Promise.all([o.e(19),o.e(219)]).then(o.bind(o,6271))];case 2:return n=i.sent().FilePolicyInterceptor,p.fileProtectChecker=e,c.u.on(u.GE.NETWORK_ONLINE,(function(){(new e).autoCheckStaticActions("network")})),c.u.on(u.GE.SDK_COLD_BOOST,(function(){q.j0.isFullUpdate=!0,(new e).autoCheckStaticActions("init")})),c.u.on(u.GE.STATIC_POINTCUT_POLLING,(function(){q.j0.isFullUpdate=!0,(new e).autoCheckStaticActions("polling")})),c.u.on(u.GE.BACK_TO_FRONT,(function(){q.j0.isFullUpdate=!0,(new e).autoCheckStaticActions("backToFront")})),c.u.on(u.GE.TENANT_SWITCH,(function(){q.j0.isFullUpdate=!0,(new e).autoCheckStaticActions("tenantSwitch")})),r=new n,null===(t=(0,s.UE)())||void 0===t||t.appendInterceptors([],[r]),[2]}}))}))},initLarkGateway:function(t){var e;if(!p.larkGateway){p.larkGateway=!0;var n=new j(t);null===(e=(0,s.UE)())||void 0===e||e.appendInterceptors([n])}},update:function(t){var e=t.options,n=void 0===e?{}:e;a.u.setOptions(n),r.E.updateProps(t)}},z),{pluginManager:z,fileProtectChecker:$,policyWorker:Z,events:tt,pap:Q}),nt=(null===(D=window.__builtin_policy_sdk__)||void 0===D?void 0:D.default)||et,rt=et.init,ot=et.update}(),__builtin_policy_sdk__=i}();